function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function s(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let i,a;function c(e,t){return i||(i=document.createElement("a")),i.href=t,e===i.href}function l(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function u(e){let t;return l(e,(e=>t=e))(),t}function f(e,t,n){e.$$.on_destroy.push(l(t,n))}function d(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function $(e,t){e.appendChild(t)}function g(e,t,n){e.insertBefore(t,n||null)}function m(e){e.parentNode&&e.parentNode.removeChild(e)}function p(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function h(e){return document.createElement(e)}function b(e){return document.createTextNode(e)}function w(){return b(" ")}function y(){return b("")}function v(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function _(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function x(e,t){t=""+t,e.data!==t&&(e.data=t)}function E(e,t){e.value=null==t?"":t}function k(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function N(e,t,n){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function q(e){const t=e.querySelector(":checked");return t&&t.__value}function S(e,t,n){e.classList[n?"add":"remove"](t)}function C(e,t){return new e(t)}function j(e){a=e}function P(){if(!a)throw new Error("Function called outside component initialization");return a}function T(e){P().$$.on_mount.push(e)}function I(){const e=P();return(t,n,{cancelable:o=!1}={})=>{const s=e.$$.callbacks[t];if(s){const r=function(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,n,o,t),s}(t,n,{cancelable:o});return s.slice().forEach((t=>{t.call(e,r)})),!r.defaultPrevented}return!0}}const L=[],z=[];let O=[];const A=[],B=Promise.resolve();let U=!1;function D(e){O.push(e)}function M(e){A.push(e)}const W=new Set;let J=0;function R(){if(0!==J)return;const e=a;do{try{for(;J<L.length;){const e=L[J];J++,j(e),F(e.$$)}}catch(e){throw L.length=0,J=0,e}for(j(null),L.length=0,J=0;z.length;)z.pop()();for(let e=0;e<O.length;e+=1){const t=O[e];W.has(t)||(W.add(t),t())}O.length=0}while(L.length);for(;A.length;)A.pop()();U=!1,W.clear(),j(e)}function F(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(D)}}const G=new Set;let H;function K(){H={r:0,c:[],p:H}}function Q(){H.r||o(H.c),H=H.p}function V(e,t){e&&e.i&&(G.delete(e),e.i(t))}function X(e,t,n,o){if(e&&e.o){if(G.has(e))return;G.add(e),H.c.push((()=>{G.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}function Y(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function Z(e){e&&e.c()}function ee(e,n,r,i){const{fragment:a,after_update:c}=e.$$;a&&a.m(n,r),i||D((()=>{const n=e.$$.on_mount.map(t).filter(s);e.$$.on_destroy?e.$$.on_destroy.push(...n):o(n),e.$$.on_mount=[]})),c.forEach(D)}function te(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];O.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),O=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ne(e,t){-1===e.$$.dirty[0]&&(L.push(e),U||(U=!0,B.then(R)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function oe(t,s,r,i,c,l,u,f=[-1]){const d=a;j(t);const $=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:s.target||d.$$.root};u&&u($.root);let g=!1;if($.ctx=r?r(t,s.props||{},((e,n,...o)=>{const s=o.length?o[0]:n;return $.ctx&&c($.ctx[e],$.ctx[e]=s)&&(!$.skip_bound&&$.bound[e]&&$.bound[e](s),g&&ne(t,e)),n})):[],$.update(),g=!0,o($.before_update),$.fragment=!!i&&i($.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);$.fragment&&$.fragment.l(e),e.forEach(m)}else $.fragment&&$.fragment.c();s.intro&&V(t.$$.fragment),ee(t,s.target,s.anchor,s.customElement),R()}j(d)}class se{$destroy(){te(this,1),this.$destroy=e}$on(t,n){if(!s(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function re(t){let n,o,s,r,i;return{c(){n=h("span"),o=b(t[0]),_(n,"class",s=t[1]+" material-symbols-outlined")},m(e,s){g(e,n,s),$(n,o),r||(i=v(n,"click",t[3]),r=!0)},p(e,[t]){1&t&&x(o,e[0]),2&t&&s!==(s=e[1]+" material-symbols-outlined")&&_(n,"class",s)},i:e,o:e,d(e){e&&m(n),r=!1,i()}}}function ie(e,t,n){const o=I();let{i:s}=t,{class:r=""}=t;return e.$$set=e=>{"i"in e&&n(0,s=e.i),"class"in e&&n(1,r=e.class)},[s,r,o,e=>o("click")]}class ae extends se{constructor(e){super(),oe(this,e,ie,re,r,{i:0,class:1})}}function ce(e){let t,n;return t=new ae({props:{i:e[0]}}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.i=e[0]),t.$set(o)},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function le(e){let t;return{c(){t=b(e[1])},m(e,n){g(e,t,n)},p(e,n){2&n&&x(t,e[1])},d(e){e&&m(t)}}}function ue(e){let t,n,o,r,i,a=e[0]&&ce(e),c=e[1]&&le(e);return{c(){t=h("button"),a&&a.c(),n=w(),c&&c.c(),_(t,"class",e[4]),t.disabled=e[3],S(t,"row",e[0]&&e[1])},m(l,u){g(l,t,u),a&&a.m(t,null),$(t,n),c&&c.m(t,null),o=!0,r||(i=v(t,"click",(function(){s(e[2])&&e[2].apply(this,arguments)})),r=!0)},p(s,[r]){(e=s)[0]?a?(a.p(e,r),1&r&&V(a,1)):(a=ce(e),a.c(),V(a,1),a.m(t,n)):a&&(K(),X(a,1,1,(()=>{a=null})),Q()),e[1]?c?c.p(e,r):(c=le(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null),(!o||16&r)&&_(t,"class",e[4]),(!o||8&r)&&(t.disabled=e[3]),(!o||19&r)&&S(t,"row",e[0]&&e[1])},i(e){o||(V(a),o=!0)},o(e){X(a),o=!1},d(e){e&&m(t),a&&a.d(),c&&c.d(),r=!1,i()}}}function fe(e,t,n){let{i:o,t:s,action:r,disabled:i}=t,{class:a=""}=t;return e.$$set=e=>{"i"in e&&n(0,o=e.i),"t"in e&&n(1,s=e.t),"action"in e&&n(2,r=e.action),"disabled"in e&&n(3,i=e.disabled),"class"in e&&n(4,a=e.class)},[o,s,r,i,a]}class de extends se{constructor(e){super(),oe(this,e,fe,ue,r,{i:0,t:1,action:2,disabled:3,class:4})}}const $e=[];function ge(t,n=e){let o;const s=new Set;function i(e){if(r(t,e)&&(t=e,o)){const e=!$e.length;for(const e of s)e[1](),$e.push(e,t);if(e){for(let e=0;e<$e.length;e+=2)$e[e][0]($e[e+1]);$e.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(r,a=e){const c=[r,a];return s.add(c),1===s.size&&(o=n(i)||e),r(t),()=>{s.delete(c),0===s.size&&o&&(o(),o=null)}}}}const me=ge(),pe=ge(),he=ge();async function be(e,t,n){const o={headers:{},method:t||"GET"};u(me)?o.headers.Authorization=`Bearer ${u(me)}`:localStorage.getItem("session_id")&&(o.headers.Authorization=`Bearer ${localStorage.getItem("session_id")}`),n&&(o.body=JSON.stringify(n),o.headers["Content-Type"]="application/json");const s=await fetch(`${window.location.origin}/${e}`,o);let r;return s.headers?.get("content-type")?.includes("application/json")&&(r=await s.json()),{res:s,data:r}}function we(e,t,n){const o=e.slice();return o[9]=t[n],o}function ye(e){let t,n,o,s,r,i,a,c=e[9].name+"";function l(...t){return e[8](e[9],...t)}return r=new de({props:{class:"red",action:l,i:"delete"}}),{c(){t=h("div"),n=h("h2"),o=b(c),s=w(),Z(r.$$.fragment),i=w(),_(n,"class","special tac"),_(t,"class","card row svelte-1oot8iw")},m(e,c){g(e,t,c),$(t,n),$(n,o),$(t,s),ee(r,t,null),$(t,i),a=!0},p(t,n){e=t,(!a||1&n)&&c!==(c=e[9].name+"")&&x(o,c);const s={};1&n&&(s.action=l),r.$set(s)},i(e){a||(V(r.$$.fragment,e),a=!0)},o(e){X(r.$$.fragment,e),a=!1},d(e){e&&m(t),te(r)}}}function ve(e){let t,n,s,r,i,a,c,l,u,f,d,y,x,k,N,q,S,C,j,P,T;k=new de({props:{disabled:e[2],action:e[3],t:e[2]?"...":"Create"}});let I=e[0]||[],L=[];for(let t=0;t<I.length;t+=1)L[t]=ye(we(e,I,t));const z=e=>X(L[e],1,1,(()=>{L[e]=null}));return{c(){t=h("form"),n=h("label"),s=b("Username: "),r=h("input"),i=w(),a=h("label"),c=b("Password: "),l=h("input"),u=w(),f=h("label"),d=b("Name:     "),y=h("input"),x=w(),Z(k.$$.fragment),N=w(),q=h("div"),S=w(),C=h("div");for(let e=0;e<L.length;e+=1)L[e].c();r.required=!0,_(r,"class","svelte-1oot8iw"),l.required=!0,_(l,"class","svelte-1oot8iw"),y.required=!0,_(y,"class","svelte-1oot8iw"),_(t,"class","svelte-1oot8iw"),_(q,"class","hr"),_(C,"class","cards svelte-1oot8iw")},m(o,m){g(o,t,m),$(t,n),$(n,s),$(n,r),E(r,e[1].username),$(t,i),$(t,a),$(a,c),$(a,l),E(l,e[1].password),$(t,u),$(t,f),$(f,d),$(f,y),E(y,e[1].name),$(t,x),ee(k,t,null),g(o,N,m),g(o,q,m),g(o,S,m),g(o,C,m);for(let e=0;e<L.length;e+=1)L[e]&&L[e].m(C,null);j=!0,P||(T=[v(r,"input",e[5]),v(l,"input",e[6]),v(y,"input",e[7])],P=!0)},p(e,[t]){2&t&&r.value!==e[1].username&&E(r,e[1].username),2&t&&l.value!==e[1].password&&E(l,e[1].password),2&t&&y.value!==e[1].name&&E(y,e[1].name);const n={};if(4&t&&(n.disabled=e[2]),4&t&&(n.t=e[2]?"...":"Create"),k.$set(n),17&t){let n;for(I=e[0]||[],n=0;n<I.length;n+=1){const o=we(e,I,n);L[n]?(L[n].p(o,t),V(L[n],1)):(L[n]=ye(o),L[n].c(),V(L[n],1),L[n].m(C,null))}for(K(),n=I.length;n<L.length;n+=1)z(n);Q()}},i(e){if(!j){V(k.$$.fragment,e);for(let e=0;e<I.length;e+=1)V(L[e]);j=!0}},o(e){X(k.$$.fragment,e),L=L.filter(Boolean);for(let e=0;e<L.length;e+=1)X(L[e]);j=!1},d(e){e&&m(t),te(k),e&&m(N),e&&m(q),e&&m(S),e&&m(C),p(L,e),P=!1,o(T)}}}function _e(e,t,n){let o,s,r={};async function i(e){confirm("Are you sure you want to delete it?")&&(await be(`menu/${e}`,"DELETE"),n(0,o=o.filter((t=>t.id!=e))))}T((async e=>{n(0,o=(await be("menus")).data.menus)}));return[o,r,s,async function(){n(2,s=!0),console.log(r);const{data:e}=await be("menu","POST",r);n(0,o=[...o,e.menu]),n(2,s=!1),n(1,r={})},i,function(){r.username=this.value,n(1,r)},function(){r.password=this.value,n(1,r)},function(){r.name=this.value,n(1,r)},(e,t)=>i(e.id)]}class xe extends se{constructor(e){super(),oe(this,e,_e,ve,r,{})}}function Ee(e){let t,n,o,s,r;const i=e[3].default,a=function(e,t,n,o){if(e){const s=d(e,t,n,o);return e[0](s)}}(i,e,e[2],null);return{c(){t=h("div"),n=h("div"),a&&a.c(),_(n,"class","modal-content svelte-1agyxdy"),_(t,"class","modal svelte-1agyxdy")},m(i,c){g(i,t,c),$(t,n),a&&a.m(n,null),o=!0,s||(r=v(t,"click",e[1]),s=!0)},p(e,t){a&&a.p&&(!o||4&t)&&function(e,t,n,o,s,r){if(s){const i=d(t,n,o,r);e.p(i,s)}}(a,i,e,e[2],o?function(e,t,n,o){if(e[2]&&o){const s=e[2](o(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|s[o];return e}return t.dirty|s}return t.dirty}(i,e[2],t,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[2]),null)},i(e){o||(V(a,e),o=!0)},o(e){X(a,e),o=!1},d(e){e&&m(t),a&&a.d(e),s=!1,r()}}}function ke(e){let t,n,o=e[0]&&Ee(e);return{c(){o&&o.c(),t=y()},m(e,s){o&&o.m(e,s),g(e,t,s),n=!0},p(e,[n]){e[0]?o?(o.p(e,n),1&n&&V(o,1)):(o=Ee(e),o.c(),V(o,1),o.m(t.parentNode,t)):o&&(K(),X(o,1,1,(()=>{o=null})),Q())},i(e){n||(V(o),n=!0)},o(e){X(o),n=!1},d(e){o&&o.d(e),e&&m(t)}}}function Ne(e,t,n){let{$$slots:o={},$$scope:s}=t;const r=I();let{show:i}=t;function a(){r("close"),n(0,i=!1)}return T((e=>{function t(e){"Escape"==e.key&&a()}return window.addEventListener("keydown",t),e=>{window.removeEventListener("keydown",t)}})),e.$$set=e=>{"show"in e&&n(0,i=e.show),"$$scope"in e&&n(2,s=e.$$scope)},[i,function(e){e.target.classList.contains("modal")&&a()},s,o]}class qe extends se{constructor(e){super(),oe(this,e,Ne,ke,r,{show:0})}}async function Se(e){const t=u(he);be(`raise-category/${e}`,"PUT");const n=t.categories.findIndex((t=>t.id==e)),o=t.categories.splice(n,1)[0];t.categories=[...t.categories.slice(0,n-1),o,...t.categories.slice(n-1)],he.set(t)}async function Ce(e){const t=u(he);be(`raise-subcategory/${e}`,"PUT");for(let n in t.categories){const o=t.categories[n].subcategories.findIndex((t=>t.id==e));if(-1==o)continue;const s=t.categories[n].subcategories.splice(o,1)[0];t.categories[n].subcategories=[...t.categories[n].subcategories.slice(0,o-1),s,...t.categories[n].subcategories.slice(o-1)];break}he.set(t)}function je(e){let t,n;return t=new qe({props:{show:e[0],$$slots:{default:[Pe]},$$scope:{ctx:e}}}),t.$on("close",e[4]),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.show=e[0]),2062&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function Pe(e){let t,n,s,r,i,a,c,l,u,f,d,p,y,k,N,q,S,C,j,P,T=e[1]?`Produto: ${e[1].name}`:"Criando um Produto",I=e[3]?"...":"Enviar";return{c(){t=h("h2"),n=b(T),s=w(),r=h("form"),i=h("label"),a=b("Nome:      "),c=h("input"),l=w(),u=h("label"),f=b("Descrição: "),d=h("textarea"),p=w(),y=h("label"),k=b("Preço:     "),N=h("input"),q=w(),S=h("button"),C=b(I),_(t,"class","special tac"),c.required=!0,_(i,"class","svelte-1mya8io"),_(d,"rows","5"),_(u,"class","svelte-1mya8io"),_(N,"placehloder","R$"),_(N,"rows","5"),N.required=!0,_(y,"class","svelte-1mya8io"),S.disabled=e[3]},m(o,m){g(o,t,m),$(t,n),g(o,s,m),g(o,r,m),$(r,i),$(i,a),$(i,c),E(c,e[2].name),$(r,l),$(r,u),$(u,f),$(u,d),E(d,e[2].description),$(r,p),$(r,y),$(y,k),$(y,N),E(N,e[2].price),$(r,q),$(r,S),$(S,C),j||(P=[v(c,"input",e[7]),v(d,"input",e[8]),v(N,"input",e[9]),v(S,"click",e[5])],j=!0)},p(e,t){2&t&&T!==(T=e[1]?`Produto: ${e[1].name}`:"Criando um Produto")&&x(n,T),4&t&&c.value!==e[2].name&&E(c,e[2].name),4&t&&E(d,e[2].description),4&t&&N.value!==e[2].price&&E(N,e[2].price),8&t&&I!==(I=e[3]?"...":"Enviar")&&x(C,I),8&t&&(S.disabled=e[3])},d(e){e&&m(t),e&&m(s),e&&m(r),j=!1,o(P)}}}function Te(e){let t,n,o=e[0]&&je(e);return{c(){o&&o.c(),t=y()},m(e,s){o&&o.m(e,s),g(e,t,s),n=!0},p(e,[n]){e[0]?o?(o.p(e,n),1&n&&V(o,1)):(o=je(e),o.c(),V(o,1),o.m(t.parentNode,t)):o&&(K(),X(o,1,1,(()=>{o=null})),Q())},i(e){n||(V(o),n=!0)},o(e){X(o),n=!1},d(e){o&&o.d(e),e&&m(t)}}}function Ie(e,t,n){let o,s,{show:r,item:i,subcategory_id:a}=t;function c(){n(0,r=!1)}return e.$$set=e=>{"show"in e&&n(0,r=e.show),"item"in e&&n(1,i=e.item),"subcategory_id"in e&&n(6,a=e.subcategory_id)},e.$$.update=()=>{if(1&e.$$.dirty&&r&&(n(3,o=!1),n(2,s={name:i?.name,description:i?.description,price:i?i.price_in_cents/100:void 0})),4&e.$$.dirty&&s?.price){n(2,s.price=String(s.price).replaceAll(",",".").replaceAll(/[^\d\.]/g,""),s);const e=s.price.split(".");e.length>1&&n(2,s.price=`${e[0]}.${e.slice(1).join("").slice(0,2)}`,s)}},[r,i,s,o,c,async function(){n(3,o=!0),s.description||delete s.description,n(2,s.price_in_cents=Math.round(100*s.price),s),i?await async function(e,t){const n=u(he);await be(`item/${e}`,"PUT",t);for(let o in n.categories)for(let s in n.categories[o].subcategories)for(let r in n.categories[o].subcategories[s].items)if(n.categories[o].subcategories[s].items[r].id==e){n.categories[o].subcategories[s].items[r]={...n.categories[o].subcategories[s].items[r].id,...t};break}he.set(n)}(i.id,s):await async function(e,t){const n=u(he),{data:o}=await be(`item/${e}`,"POST",t);for(let t in n.categories){const s=n.categories[t].subcategories.findIndex((t=>t.id==e));if(-1!=s){n.categories[t].subcategories[s].items=[...n.categories[t].subcategories[s].items||[],o.item];break}}he.set(n)}(a,s),c()},a,function(){s.name=this.value,n(2,s)},function(){s.description=this.value,n(2,s)},function(){s.price=this.value,n(2,s)}]}class Le extends se{constructor(e){super(),oe(this,e,Ie,Te,r,{show:0,item:1,subcategory_id:6})}}function ze(e){let t,n,o,s,r,i,a,c,l,u,f,d,p,y=e[0].name+"";return i=new de({props:{class:"blu",i:"edit",t:"Editar",action:e[7]}}),c=new de({props:{class:"red",i:"delete",t:"Excluir",action:e[8]}}),u=new de({props:{i:"keyboard_arrow_up",t:"Mover pra cima",action:e[9],disabled:0==e[3]}}),d=new de({props:{i:"keyboard_arrow_down",t:"Mover pra baixo",action:e[10],disabled:e[3]==e[4]-1}}),{c(){t=h("p"),n=b("Produto: "),o=b(y),s=w(),r=h("div"),Z(i.$$.fragment),a=w(),Z(c.$$.fragment),l=w(),Z(u.$$.fragment),f=w(),Z(d.$$.fragment),_(t,"class","special svelte-rf44i4"),_(r,"class","btn-col")},m(e,m){g(e,t,m),$(t,n),$(t,o),g(e,s,m),g(e,r,m),ee(i,r,null),$(r,a),ee(c,r,null),$(r,l),ee(u,r,null),$(r,f),ee(d,r,null),p=!0},p(e,t){(!p||1&t)&&y!==(y=e[0].name+"")&&x(o,y);const n={};8&t&&(n.disabled=0==e[3]),u.$set(n);const s={};24&t&&(s.disabled=e[3]==e[4]-1),d.$set(s)},i(e){p||(V(i.$$.fragment,e),V(c.$$.fragment,e),V(u.$$.fragment,e),V(d.$$.fragment,e),p=!0)},o(e){X(i.$$.fragment,e),X(c.$$.fragment,e),X(u.$$.fragment,e),X(d.$$.fragment,e),p=!1},d(e){e&&m(t),e&&m(s),e&&m(r),te(i),te(c),te(u),te(d)}}}function Oe(e){let t,n;return t=new qe({props:{show:!0,$$slots:{default:[Ae]},$$scope:{ctx:e}}}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function Ae(e){let t;return{c(){t=b("Excluindo...")},m(e,n){g(e,t,n)},d(e){e&&m(t)}}}function Be(e){let t,n,o,s,r,i,a,c,l,u,f,d,p,v,_,E,k,N,q,S,C,j,P=e[0].name+"",T=(e[0].description||"Sem descrição")+"",I=Ue(e[0].price_in_cents)+"";function L(t){e[12](t)}p=new de({props:{class:"blu",i:"edit",action:e[6]}});let O={$$slots:{default:[ze]},$$scope:{ctx:e}};function A(t){e[13](t)}void 0!==e[1]&&(O.show=e[1]),_=new qe({props:O}),z.push((()=>Y(_,"show",L)));let B={item:e[0],subcategory_id:e[0].subcategory_id};void 0!==e[2]&&(B.show=e[2]),N=new Le({props:B}),z.push((()=>Y(N,"show",A)));let U=e[5]&&Oe(e);return{c(){t=h("tr"),n=h("td"),o=b(P),s=w(),r=h("td"),i=b(T),a=w(),c=h("td"),l=b("R$ "),u=b(I),f=w(),d=h("td"),Z(p.$$.fragment),v=w(),Z(_.$$.fragment),k=w(),Z(N.$$.fragment),S=w(),U&&U.c(),C=y()},m(e,m){g(e,t,m),$(t,n),$(n,o),$(t,s),$(t,r),$(r,i),$(t,a),$(t,c),$(c,l),$(c,u),$(t,f),$(t,d),ee(p,d,null),g(e,v,m),ee(_,e,m),g(e,k,m),ee(N,e,m),g(e,S,m),U&&U.m(e,m),g(e,C,m),j=!0},p(e,[t]){(!j||1&t)&&P!==(P=e[0].name+"")&&x(o,P),(!j||1&t)&&T!==(T=(e[0].description||"Sem descrição")+"")&&x(i,T),(!j||1&t)&&I!==(I=Ue(e[0].price_in_cents)+"")&&x(u,I);const n={};32793&t&&(n.$$scope={dirty:t,ctx:e}),!E&&2&t&&(E=!0,n.show=e[1],M((()=>E=!1))),_.$set(n);const s={};1&t&&(s.item=e[0]),1&t&&(s.subcategory_id=e[0].subcategory_id),!q&&4&t&&(q=!0,s.show=e[2],M((()=>q=!1))),N.$set(s),e[5]?U?32&t&&V(U,1):(U=Oe(e),U.c(),V(U,1),U.m(C.parentNode,C)):U&&(K(),X(U,1,1,(()=>{U=null})),Q())},i(e){j||(V(p.$$.fragment,e),V(_.$$.fragment,e),V(N.$$.fragment,e),V(U),j=!0)},o(e){X(p.$$.fragment,e),X(_.$$.fragment,e),X(N.$$.fragment,e),X(U),j=!1},d(e){e&&m(t),te(p),e&&m(v),te(_,e),e&&m(k),te(N,e),e&&m(S),U&&U.d(e),e&&m(C)}}}function Ue(e){let t=String(e/100).replace(".",",");return e%100==0?t+=",00":e%10==0&&(t+="0"),t}function De(e,t,n){let o;f(e,he,(e=>n(11,o=e)));let s,r,i,a,c,{item:l}=t;return e.$$set=e=>{"item"in e&&n(0,l=e.item)},e.$$.update=()=>{2048&e.$$.dirty&&o&&function(){const e=o.categories.find((e=>e.subcategories.find((e=>e.id==l.subcategory_id)))),t=e?.subcategories.find((e=>e.id==l.subcategory_id)),s=t?.items;n(4,a=s?.length),n(3,i=s?.findIndex((e=>e.id==l.id)))}()},[l,s,r,i,a,c,function(){n(1,s=1)},function(){n(1,s=0),n(2,r=1)},async function(){n(1,s=0),confirm(`Certeza que quer excluir o produto ${l.name}?`)&&(n(5,c=!0),await async function(e){const t=u(he);await be(`item/${e}`,"DELETE");for(let n in t.categories)for(let o in t.categories[n].subcategories)t.categories[n].subcategories[o].items=t.categories[n].subcategories[o].items.filter((t=>t.id!=e));he.set(t)}(l.id),n(5,c=!1))},function(){n(1,s=0),async function(e){const t=u(he);be(`raise-item/${e}`,"PUT");for(let n in t.categories){const o=t.categories[n].subcategories.findIndex((t=>t.items.find((t=>t.id==e))));if(-1==o)continue;const s=t.categories[n].subcategories[o].items.findIndex((t=>t.id==e)),r=t.categories[n].subcategories[o].items.splice(s,1)[0];t.categories[n].subcategories[o].items=[...t.categories[n].subcategories[o].items.slice(0,s-1),r,...t.categories[n].subcategories[o].items.slice(s-1)];break}he.set(t)}(l.id)},function(){n(1,s=0),async function(e){const t=u(he);for(let n in t.categories){const o=t.categories[n].subcategories.findIndex((t=>t.items.find((t=>t.id==e))));if(-1==o)continue;const s=t.categories[n].subcategories[o].items.findIndex((t=>t.id==e));await Ce(t.categories[n].subcategories[o].items[s+1].id);break}}(l.id)},o,function(e){s=e,n(1,s)},function(e){r=e,n(2,r)}]}class Me extends se{constructor(e){super(),oe(this,e,De,Be,r,{item:0})}}function We(e,t,n){const o=e.slice();return o[6]=t[n],o}function Je(e){let t,n;return t=new Me({props:{item:e[6]}}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.item=e[6]),t.$set(o)},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function Re(e){let t,n,o,s,r,i,a,c,l,u,f,d,y,v,E,k=e[0].name+"";l=new de({props:{class:"grn",i:"add",action:e[2]}});let N=e[0].items||[],q=[];for(let t=0;t<N.length;t+=1)q[t]=Je(We(e,N,t));const S=e=>X(q[e],1,1,(()=>{q[e]=null}));function C(t){e[4](t)}let j={subcategory_id:e[0].id};return void 0!==e[1]&&(j.show=e[1]),y=new Le({props:j}),z.push((()=>Y(y,"show",C))),{c(){t=h("table"),n=h("thead"),o=h("tr"),s=h("td"),r=h("h2"),i=b(k),a=w(),c=h("td"),Z(l.$$.fragment),u=w(),f=h("tbody");for(let e=0;e<q.length;e+=1)q[e].c();d=w(),Z(y.$$.fragment),_(s,"colspan","3"),_(s,"class","svelte-s0l2tk"),_(c,"class","svelte-s0l2tk"),_(n,"class","svelte-s0l2tk"),_(t,"class","svelte-s0l2tk")},m(e,m){g(e,t,m),$(t,n),$(n,o),$(o,s),$(s,r),$(r,i),$(o,a),$(o,c),ee(l,c,null),$(t,u),$(t,f);for(let e=0;e<q.length;e+=1)q[e]&&q[e].m(f,null);g(e,d,m),ee(y,e,m),E=!0},p(e,[t]){if((!E||1&t)&&k!==(k=e[0].name+"")&&x(i,k),1&t){let n;for(N=e[0].items||[],n=0;n<N.length;n+=1){const o=We(e,N,n);q[n]?(q[n].p(o,t),V(q[n],1)):(q[n]=Je(o),q[n].c(),V(q[n],1),q[n].m(f,null))}for(K(),n=N.length;n<q.length;n+=1)S(n);Q()}const n={};1&t&&(n.subcategory_id=e[0].id),!v&&2&t&&(v=!0,n.show=e[1],M((()=>v=!1))),y.$set(n)},i(e){if(!E){V(l.$$.fragment,e);for(let e=0;e<N.length;e+=1)V(q[e]);V(y.$$.fragment,e),E=!0}},o(e){X(l.$$.fragment,e),q=q.filter(Boolean);for(let e=0;e<q.length;e+=1)X(q[e]);X(y.$$.fragment,e),E=!1},d(e){e&&m(t),te(l),p(q,e),e&&m(d),te(y,e)}}}function Fe(e,t,n){let o;f(e,he,(e=>n(3,o=e)));let s,{subcategory:r}=t;return e.$$set=e=>{"subcategory"in e&&n(0,r=e.subcategory)},e.$$.update=()=>{8&e.$$.dirty&&function(e){const t=e.categories.find((e=>e.id==r.category_id)).subcategories.find((e=>e.id==r.id));n(0,r.items=t.items,r)}(o)},[r,s,function(){n(1,s=1)},o,function(e){s=e,n(1,s)}]}class Ge extends se{constructor(e){super(),oe(this,e,Fe,Re,r,{subcategory:0})}}function He(e,t,n){const o=e.slice();return o[4]=t[n],o}function Ke(e,t,n){const o=e.slice();return o[6]=t[n],o}function Qe(e,t,n){const o=e.slice();return o[6]=t[n],o}function Ve(e,t,n){const o=e.slice();return o[4]=t[n],o}function Xe(e){let t,n,o,s,r=e[4].name+"";return{c(){t=h("option"),n=b(r),o=w(),t.__value=s=e[4].id,t.value=t.__value},m(e,s){g(e,t,s),$(t,n),$(t,o)},p(e,o){8&o&&r!==(r=e[4].name+"")&&x(n,r),8&o&&s!==(s=e[4].id)&&(t.__value=s,t.value=t.__value)},d(e){e&&m(t)}}}function Ye(e){let t,n,o,s,r=e[6].name+"";return{c(){t=h("option"),n=b(r),o=w(),t.__value=s=e[6].id,t.value=t.__value},m(e,s){g(e,t,s),$(t,n),$(t,o)},p(e,o){16&o&&r!==(r=e[6].name+"")&&x(n,r),16&o&&s!==(s=e[6].id)&&(t.__value=s,t.value=t.__value)},d(e){e&&m(t)}}}function Ze(e){let t,n;return t=new Ge({props:{subcategory:e[6]}}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.subcategory=e[6]),t.$set(o)},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function et(e){let t,n,o,s,r,i,a,c=e[4].name+"",l=e[4].subcategories,u=[];for(let t=0;t<l.length;t+=1)u[t]=Ze(Ke(e,l,t));const f=e=>X(u[e],1,1,(()=>{u[e]=null}));return{c(){t=h("div"),n=w(),o=h("h1"),s=b(c),r=w();for(let e=0;e<u.length;e+=1)u[e].c();i=y(),_(t,"class","hr")},m(e,c){g(e,t,c),g(e,n,c),g(e,o,c),$(o,s),g(e,r,c);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(e,c);g(e,i,c),a=!0},p(e,t){if((!a||32&t)&&c!==(c=e[4].name+"")&&x(s,c),32&t){let n;for(l=e[4].subcategories,n=0;n<l.length;n+=1){const o=Ke(e,l,n);u[n]?(u[n].p(o,t),V(u[n],1)):(u[n]=Ze(o),u[n].c(),V(u[n],1),u[n].m(i.parentNode,i))}for(K(),n=l.length;n<u.length;n+=1)f(n);Q()}},i(e){if(!a){for(let e=0;e<l.length;e+=1)V(u[e]);a=!0}},o(e){u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)X(u[e]);a=!1},d(e){e&&m(t),e&&m(n),e&&m(o),e&&m(r),p(u,e),e&&m(i)}}}function tt(t){let n,o,s,r,i;return{c(){n=h("p"),o=b("Nada encontrado para esses filtros.\n    \n    "),s=h("span"),s.textContent="Limpar filtros",_(s,"class","underline cp")},m(e,a){g(e,n,a),$(n,o),$(n,s),r||(i=v(s,"click",t[7]),r=!0)},p:e,d(e){e&&m(n),r=!1,i()}}}function nt(e){let t,n,s,r,i,a,c,l,u,f,d,x,k,q,S,C,j,P=e[3].categories||[],T=[];for(let t=0;t<P.length;t+=1)T[t]=Xe(Ve(e,P,t));let I=e[4]?.subcategories||[],L=[];for(let t=0;t<I.length;t+=1)L[t]=Ye(Qe(e,I,t));let z=e[5].categories,O=[];for(let t=0;t<z.length;t+=1)O[t]=et(He(e,z,t));const A=e=>X(O[e],1,1,(()=>{O[e]=null}));let B=!e[5].categories.length&&(e[2]||e[0]||e[1])&&tt(e);return{c(){t=h("div"),n=h("input"),s=w(),r=h("select"),i=h("option"),a=b("Todas categorias ");for(let e=0;e<T.length;e+=1)T[e].c();c=w(),l=h("select"),u=h("option"),f=b("Todas subcategorias ");for(let e=0;e<L.length;e+=1)L[e].c();x=w();for(let e=0;e<O.length;e+=1)O[e].c();k=w(),B&&B.c(),q=y(),_(n,"placeholder","Pesquisar"),_(n,"class","svelte-1nqktdd"),i.__value=void 0,i.value=i.__value,_(r,"class","svelte-1nqktdd"),void 0===e[0]&&D((()=>e[9].call(r))),u.__value=void 0,u.value=u.__value,l.disabled=d=!e[0],_(l,"class","svelte-1nqktdd"),void 0===e[1]&&D((()=>e[10].call(l))),_(t,"class","row svelte-1nqktdd")},m(o,d){g(o,t,d),$(t,n),E(n,e[2]),$(t,s),$(t,r),$(r,i),$(i,a);for(let e=0;e<T.length;e+=1)T[e]&&T[e].m(r,null);N(r,e[0],!0),$(t,c),$(t,l),$(l,u),$(u,f);for(let e=0;e<L.length;e+=1)L[e]&&L[e].m(l,null);N(l,e[1],!0),g(o,x,d);for(let e=0;e<O.length;e+=1)O[e]&&O[e].m(o,d);g(o,k,d),B&&B.m(o,d),g(o,q,d),S=!0,C||(j=[v(n,"input",e[8]),v(r,"change",e[9]),v(l,"change",e[10])],C=!0)},p(e,[t]){if(4&t&&n.value!==e[2]&&E(n,e[2]),8&t){let n;for(P=e[3].categories||[],n=0;n<P.length;n+=1){const o=Ve(e,P,n);T[n]?T[n].p(o,t):(T[n]=Xe(o),T[n].c(),T[n].m(r,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=P.length}if(9&t&&N(r,e[0]),16&t){let n;for(I=e[4]?.subcategories||[],n=0;n<I.length;n+=1){const o=Qe(e,I,n);L[n]?L[n].p(o,t):(L[n]=Ye(o),L[n].c(),L[n].m(l,null))}for(;n<L.length;n+=1)L[n].d(1);L.length=I.length}if((!S||9&t&&d!==(d=!e[0]))&&(l.disabled=d),18&t&&N(l,e[1]),32&t){let n;for(z=e[5].categories,n=0;n<z.length;n+=1){const o=He(e,z,n);O[n]?(O[n].p(o,t),V(O[n],1)):(O[n]=et(o),O[n].c(),V(O[n],1),O[n].m(k.parentNode,k))}for(K(),n=z.length;n<O.length;n+=1)A(n);Q()}!e[5].categories.length&&(e[2]||e[0]||e[1])?B?B.p(e,t):(B=tt(e),B.c(),B.m(q.parentNode,q)):B&&(B.d(1),B=null)},i(e){if(!S){for(let e=0;e<z.length;e+=1)V(O[e]);S=!0}},o(e){O=O.filter(Boolean);for(let e=0;e<O.length;e+=1)X(O[e]);S=!1},d(e){e&&m(t),p(T,e),p(L,e),e&&m(x),p(O,e),e&&m(k),B&&B.d(e),e&&m(q),C=!1,o(j)}}}function ot(e,t,n){let o;f(e,he,(e=>n(3,o=e)));let s,r,i,a,c,l="";return e.$$.update=()=>{7&e.$$.dirty&&function(e,t,s){if(o.categories.find((t=>t.id==e))?.subcategories.find((e=>e.id==t))||(t=void 0),n(5,c=JSON.parse(JSON.stringify(o))),e&&n(5,c.categories=c.categories.filter((t=>t.id==e)),c),t&&n(5,c.categories=c.categories.map((n=>n.id!=e?n:{...n,subcategories:n.subcategories.filter((e=>e.id==t))})),c),s){function r(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s]/g,"")}function i(e,t){for(let n of t)if(!e.includes(n))return 0;return 1}c.categories.forEach((e=>{e.subcategories.forEach((e=>{e.items=e.items.filter((e=>i(r(e.name.replaceAll(" ","")),r(s).split(" "))))})),e.subcategories=e.subcategories.filter((e=>e.items.length))})),n(5,c.categories=c.categories.filter((e=>e.subcategories.length)),c)}}(s,r,l),9&e.$$.dirty&&n(4,i=o.categories.find((e=>e.id==s))),18&e.$$.dirty&&n(6,a=i?.subcategories.find((e=>e.id==r)))},[s,r,l,o,i,c,a,function(){n(2,l=""),n(0,s=void 0),n(1,r=void 0)},function(){l=this.value,n(2,l)},function(){s=q(this),n(0,s)},function(){r=q(this),n(1,r),n(4,i),n(3,o),n(0,s)}]}class st extends se{constructor(e){super(),oe(this,e,ot,nt,r,{})}}function rt(e){let t,n,s,r,i,a,c,l,u,f,d,p,y=e[1]?`Categoria: ${e[1].name}`:"Criando uma categoria",k=e[2]?"...":"Enviar";return{c(){t=h("h2"),n=b(y),s=w(),r=h("form"),i=h("label"),a=b("Nome: "),c=h("input"),l=w(),u=h("button"),f=b(k),_(t,"class","special tac"),c.required=!0,_(i,"class","svelte-1mya8io"),u.disabled=e[2]},m(o,m){g(o,t,m),$(t,n),g(o,s,m),g(o,r,m),$(r,i),$(i,a),$(i,c),E(c,e[3].name),$(r,l),$(r,u),$(u,f),d||(p=[v(c,"input",e[6]),v(u,"click",e[5])],d=!0)},p(e,t){2&t&&y!==(y=e[1]?`Categoria: ${e[1].name}`:"Criando uma categoria")&&x(n,y),8&t&&c.value!==e[3].name&&E(c,e[3].name),4&t&&k!==(k=e[2]?"...":"Enviar")&&x(f,k),4&t&&(u.disabled=e[2])},d(e){e&&m(t),e&&m(s),e&&m(r),d=!1,o(p)}}}function it(e){let t,n;return t=new qe({props:{show:e[0],$$slots:{default:[rt]},$$scope:{ctx:e}}}),t.$on("close",e[4]),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.show=e[0]),270&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function at(e,t,n){let o,s,{show:r,category:i}=t;function a(){n(0,r=!1)}return e.$$set=e=>{"show"in e&&n(0,r=e.show),"category"in e&&n(1,i=e.category)},e.$$.update=()=>{1&e.$$.dirty&&r&&(n(2,o=!1),n(3,s={name:i?.name}))},[r,i,o,s,a,async function(){n(2,o=!0),i?await async function(e,t){const n=u(he);await be(`category/${e}`,"PUT",t);for(let o in n.categories)n.categories[o].id==e&&(n.categories[o]={...n.categories[o],...t});he.set(n)}(i.id,s):await async function(e){const t=u(he),{data:n}=await be(`category/${t.id}`,"POST",e);t.categories=[...t.categories||[],n.category],he.set(t)}(s),a()},function(){s.name=this.value,n(3,s)}]}class ct extends se{constructor(e){super(),oe(this,e,at,it,r,{show:0,category:1})}}function lt(e){let t,n;return t=new qe({props:{show:e[0],$$slots:{default:[ut]},$$scope:{ctx:e}}}),t.$on("close",e[4]),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.show=e[0]),526&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function ut(e){let t,n,s,r,i,a,c,l,u,f,d,p,y=e[1]?`Subcategoria: ${e[1].name}`:"Criando uma Subcategoria",k=e[2]?"...":"Enviar";return{c(){t=h("h2"),n=b(y),s=w(),r=h("form"),i=h("label"),a=b("Nome: "),c=h("input"),l=w(),u=h("button"),f=b(k),_(t,"class","special tac"),c.required=!0,_(i,"class","svelte-1mya8io"),u.disabled=e[2]},m(o,m){g(o,t,m),$(t,n),g(o,s,m),g(o,r,m),$(r,i),$(i,a),$(i,c),E(c,e[3].name),$(r,l),$(r,u),$(u,f),d||(p=[v(c,"input",e[7]),v(u,"click",e[5])],d=!0)},p(e,t){2&t&&y!==(y=e[1]?`Subcategoria: ${e[1].name}`:"Criando uma Subcategoria")&&x(n,y),8&t&&c.value!==e[3].name&&E(c,e[3].name),4&t&&k!==(k=e[2]?"...":"Enviar")&&x(f,k),4&t&&(u.disabled=e[2])},d(e){e&&m(t),e&&m(s),e&&m(r),d=!1,o(p)}}}function ft(e){let t,n,o=e[0]&&lt(e);return{c(){o&&o.c(),t=y()},m(e,s){o&&o.m(e,s),g(e,t,s),n=!0},p(e,[n]){e[0]?o?(o.p(e,n),1&n&&V(o,1)):(o=lt(e),o.c(),V(o,1),o.m(t.parentNode,t)):o&&(K(),X(o,1,1,(()=>{o=null})),Q())},i(e){n||(V(o),n=!0)},o(e){X(o),n=!1},d(e){o&&o.d(e),e&&m(t)}}}function dt(e,t,n){let o,s,{show:r,subcategory:i,category_id:a}=t;function c(){n(0,r=!1)}return e.$$set=e=>{"show"in e&&n(0,r=e.show),"subcategory"in e&&n(1,i=e.subcategory),"category_id"in e&&n(6,a=e.category_id)},e.$$.update=()=>{1&e.$$.dirty&&r&&(n(2,o=!1),n(3,s={name:i?.name}))},[r,i,o,s,c,async function(){n(2,o=!0),i?await async function(e,t){const n=u(he);await be(`subcategory/${e}`,"PUT",t);for(let o in n.categories){const s=n.categories[o].subcategories.findIndex((t=>t.id==e));if(-1!=s){n.categories[o].subcategories[s]={...n.categories[o].subcategories[s],...t};break}}he.set(n)}(i.id,s):await async function(e,t){const n=u(he),{data:o}=await be(`subcategory/${e}`,"POST",t);for(let t in n.categories)n.categories[t].id==e&&(n.categories[t].subcategories=[...n.categories[t].subcategories||[],o.subcategory]);he.set(n)}(a,s),c()},a,function(){s.name=this.value,n(3,s)}]}class $t extends se{constructor(e){super(),oe(this,e,dt,ft,r,{show:0,subcategory:1,category_id:6})}}function gt(e){let t,n,o,s,r,i,a,c,l,u=e[0].name+"";return i=new de({props:{class:"blu",i:"edit",t:"Editar",action:e[7]}}),c=new de({props:{class:"red",i:"delete",t:"Excluir",action:e[8]}}),{c(){t=h("p"),n=b("Subcategoria: "),o=b(u),s=w(),r=h("div"),Z(i.$$.fragment),a=w(),Z(c.$$.fragment),_(t,"class","special svelte-huuhgf"),_(r,"class","btn-col")},m(e,u){g(e,t,u),$(t,n),$(t,o),g(e,s,u),g(e,r,u),ee(i,r,null),$(r,a),ee(c,r,null),l=!0},p(e,t){(!l||1&t)&&u!==(u=e[0].name+"")&&x(o,u)},i(e){l||(V(i.$$.fragment,e),V(c.$$.fragment,e),l=!0)},o(e){X(i.$$.fragment,e),X(c.$$.fragment,e),l=!1},d(e){e&&m(t),e&&m(s),e&&m(r),te(i),te(c)}}}function mt(e){let t,n;return t=new qe({props:{show:!0,$$slots:{default:[pt]},$$scope:{ctx:e}}}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function pt(e){let t;return{c(){t=b("Excluindo...")},m(e,n){g(e,t,n)},d(e){e&&m(t)}}}function ht(e){let t,n,o,s,r,i,a,c,l,u,f,d,p,E,k,N,q,S,C,j,P=(e[0].name||"Sem nome")+"";function T(t){e[12](t)}r=new de({props:{i:"settings",action:e[6]}}),a=new de({props:{i:"keyboard_arrow_up",action:e[9],disabled:0==e[4]}}),l=new de({props:{i:"keyboard_arrow_down",action:e[10],disabled:e[4]==e[3].subcategories.length-1}});let I={$$slots:{default:[gt]},$$scope:{ctx:e}};function L(t){e[13](t)}void 0!==e[2]&&(I.show=e[2]),f=new qe({props:I}),z.push((()=>Y(f,"show",T)));let O={subcategory:e[0],category_id:e[0].category_id};void 0!==e[1]&&(O.show=e[1]),E=new $t({props:O}),z.push((()=>Y(E,"show",L)));let A=e[5]&&mt(e);return{c(){t=h("li"),n=h("p"),o=b(P),s=w(),Z(r.$$.fragment),i=w(),Z(a.$$.fragment),c=w(),Z(l.$$.fragment),u=w(),Z(f.$$.fragment),p=w(),Z(E.$$.fragment),N=w(),A&&A.c(),q=y(),_(n,"class","cp fg"),_(t,"class","row svelte-huuhgf")},m(d,m){g(d,t,m),$(t,n),$(n,o),$(t,s),ee(r,t,null),$(t,i),ee(a,t,null),$(t,c),ee(l,t,null),g(d,u,m),ee(f,d,m),g(d,p,m),ee(E,d,m),g(d,N,m),A&&A.m(d,m),g(d,q,m),S=!0,C||(j=v(n,"click",e[6]),C=!0)},p(e,[t]){(!S||1&t)&&P!==(P=(e[0].name||"Sem nome")+"")&&x(o,P);const n={};16&t&&(n.disabled=0==e[4]),a.$set(n);const s={};24&t&&(s.disabled=e[4]==e[3].subcategories.length-1),l.$set(s);const r={};32769&t&&(r.$$scope={dirty:t,ctx:e}),!d&&4&t&&(d=!0,r.show=e[2],M((()=>d=!1))),f.$set(r);const i={};1&t&&(i.subcategory=e[0]),1&t&&(i.category_id=e[0].category_id),!k&&2&t&&(k=!0,i.show=e[1],M((()=>k=!1))),E.$set(i),e[5]?A?32&t&&V(A,1):(A=mt(e),A.c(),V(A,1),A.m(q.parentNode,q)):A&&(K(),X(A,1,1,(()=>{A=null})),Q())},i(e){S||(V(r.$$.fragment,e),V(a.$$.fragment,e),V(l.$$.fragment,e),V(f.$$.fragment,e),V(E.$$.fragment,e),V(A),S=!0)},o(e){X(r.$$.fragment,e),X(a.$$.fragment,e),X(l.$$.fragment,e),X(f.$$.fragment,e),X(E.$$.fragment,e),X(A),S=!1},d(e){e&&m(t),te(r),te(a),te(l),e&&m(u),te(f,e),e&&m(p),te(E,e),e&&m(N),A&&A.d(e),e&&m(q),C=!1,j()}}}function bt(e,t,n){let o;f(e,he,(e=>n(11,o=e)));let s,r,i,a,c,{subcategory:l}=t;return e.$$set=e=>{"subcategory"in e&&n(0,l=e.subcategory)},e.$$.update=()=>{2048&e.$$.dirty&&o&&(n(3,i=o.categories.find((e=>e.subcategories?.find((e=>e.id==l.id))))),n(4,a=i.subcategories.findIndex((e=>e.id==l.id))))},[l,s,r,i,a,c,function(){n(2,r=1)},function(){n(2,r=0),n(1,s=1)},async function(){n(2,r=0),confirm(`Certeza que quer excluir a subcategoria ${l.name}?`)&&(n(5,c=!0),await async function(e){const t=u(he);await be(`subcategory/${e}`,"DELETE");for(let n in t.categories)t.categories[n].subcategories=t.categories[n].subcategories.filter((t=>t.id!=e));he.set(t)}(l.id),n(5,c=!1))},function(){Ce(l.id)},function(){!async function(e){const t=u(he);for(let n in t.categories){const o=t.categories[n].subcategories.findIndex((t=>t.id==e));if(-1!=o){await Ce(t.categories[n].subcategories[o+1].id);break}}}(l.id)},o,function(e){r=e,n(2,r)},function(e){s=e,n(1,s)}]}class wt extends se{constructor(e){super(),oe(this,e,bt,ht,r,{subcategory:0})}}function yt(e,t,n){const o=e.slice();return o[16]=t[n],o}function vt(e){let t,n;return t=new wt({props:{subcategory:e[16]}}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.subcategory=e[16]),t.$set(o)},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function _t(e){let t,n,o,s,r,i,a,c,l,u,f,d=e[0].name+"";return i=new de({props:{class:"grn",i:"add",t:"Subcategoria",action:e[7]}}),c=new de({props:{class:"blu",i:"edit",t:"Editar",action:e[8]}}),u=new de({props:{class:"red",i:"delete",t:"Excluir",action:e[10]}}),{c(){t=h("p"),n=b("Categoria: "),o=b(d),s=w(),r=h("div"),Z(i.$$.fragment),a=w(),Z(c.$$.fragment),l=w(),Z(u.$$.fragment),_(t,"class","special svelte-199o48f"),_(r,"class","btn-col")},m(e,d){g(e,t,d),$(t,n),$(t,o),g(e,s,d),g(e,r,d),ee(i,r,null),$(r,a),ee(c,r,null),$(r,l),ee(u,r,null),f=!0},p(e,t){(!f||1&t)&&d!==(d=e[0].name+"")&&x(o,d)},i(e){f||(V(i.$$.fragment,e),V(c.$$.fragment,e),V(u.$$.fragment,e),f=!0)},o(e){X(i.$$.fragment,e),X(c.$$.fragment,e),X(u.$$.fragment,e),f=!1},d(e){e&&m(t),e&&m(s),e&&m(r),te(i),te(c),te(u)}}}function xt(e){let t,n;return t=new qe({props:{show:!0,$$slots:{default:[Et]},$$scope:{ctx:e}}}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function Et(e){let t;return{c(){t=b("Excluindo...")},m(e,n){g(e,t,n)},d(e){e&&m(t)}}}function kt(e){let t,n,o,s,r,i,a,c,l,u,f,d,v,E,k,N,q,S,C,j,P,T,I,L,O,A=e[0].name+"";a=new de({props:{i:"settings",action:e[9]}}),l=new de({props:{i:"keyboard_arrow_up",action:e[11],disabled:0==e[6]}}),f=new de({props:{i:"keyboard_arrow_down",action:e[12],disabled:e[6]==e[1].categories.length-1}});let B=e[0].subcategories||[],U=[];for(let t=0;t<B.length;t+=1)U[t]=vt(yt(e,B,t));const D=e=>X(U[e],1,1,(()=>{U[e]=null}));function W(t){e[13](t)}let J={$$slots:{default:[_t]},$$scope:{ctx:e}};function R(t){e[14](t)}void 0!==e[4]&&(J.show=e[4]),k=new qe({props:J}),z.push((()=>Y(k,"show",W)));let F={category:e[0]};function G(t){e[15](t)}void 0!==e[2]&&(F.show=e[2]),S=new ct({props:F}),z.push((()=>Y(S,"show",R)));let H={category_id:e[0].id};void 0!==e[3]&&(H.show=e[3]),P=new $t({props:H}),z.push((()=>Y(P,"show",G)));let ne=e[5]&&xt(e);return{c(){t=h("div"),n=h("div"),o=h("h2"),s=b(A),r=w(),i=h("div"),Z(a.$$.fragment),c=w(),Z(l.$$.fragment),u=w(),Z(f.$$.fragment),d=w(),v=h("ul");for(let e=0;e<U.length;e+=1)U[e].c();E=w(),Z(k.$$.fragment),q=w(),Z(S.$$.fragment),j=w(),Z(P.$$.fragment),I=w(),ne&&ne.c(),L=y(),_(i,"class","row jce"),_(n,"class","row toprow jcsb"),_(t,"class","category svelte-199o48f")},m(e,m){g(e,t,m),$(t,n),$(n,o),$(o,s),$(n,r),$(n,i),ee(a,i,null),$(i,c),ee(l,i,null),$(i,u),ee(f,i,null),$(t,d),$(t,v);for(let e=0;e<U.length;e+=1)U[e]&&U[e].m(v,null);g(e,E,m),ee(k,e,m),g(e,q,m),ee(S,e,m),g(e,j,m),ee(P,e,m),g(e,I,m),ne&&ne.m(e,m),g(e,L,m),O=!0},p(e,[t]){(!O||1&t)&&A!==(A=e[0].name+"")&&x(s,A);const n={};64&t&&(n.disabled=0==e[6]),l.$set(n);const o={};if(66&t&&(o.disabled=e[6]==e[1].categories.length-1),f.$set(o),1&t){let n;for(B=e[0].subcategories||[],n=0;n<B.length;n+=1){const o=yt(e,B,n);U[n]?(U[n].p(o,t),V(U[n],1)):(U[n]=vt(o),U[n].c(),V(U[n],1),U[n].m(v,null))}for(K(),n=B.length;n<U.length;n+=1)D(n);Q()}const r={};524289&t&&(r.$$scope={dirty:t,ctx:e}),!N&&16&t&&(N=!0,r.show=e[4],M((()=>N=!1))),k.$set(r);const i={};1&t&&(i.category=e[0]),!C&&4&t&&(C=!0,i.show=e[2],M((()=>C=!1))),S.$set(i);const a={};1&t&&(a.category_id=e[0].id),!T&&8&t&&(T=!0,a.show=e[3],M((()=>T=!1))),P.$set(a),e[5]?ne?32&t&&V(ne,1):(ne=xt(e),ne.c(),V(ne,1),ne.m(L.parentNode,L)):ne&&(K(),X(ne,1,1,(()=>{ne=null})),Q())},i(e){if(!O){V(a.$$.fragment,e),V(l.$$.fragment,e),V(f.$$.fragment,e);for(let e=0;e<B.length;e+=1)V(U[e]);V(k.$$.fragment,e),V(S.$$.fragment,e),V(P.$$.fragment,e),V(ne),O=!0}},o(e){X(a.$$.fragment,e),X(l.$$.fragment,e),X(f.$$.fragment,e),U=U.filter(Boolean);for(let e=0;e<U.length;e+=1)X(U[e]);X(k.$$.fragment,e),X(S.$$.fragment,e),X(P.$$.fragment,e),X(ne),O=!1},d(e){e&&m(t),te(a),te(l),te(f),p(U,e),e&&m(E),te(k,e),e&&m(q),te(S,e),e&&m(j),te(P,e),e&&m(I),ne&&ne.d(e),e&&m(L)}}}function Nt(e,t,n){let o;f(e,he,(e=>n(1,o=e)));let s,r,i,a,c,{category:l}=t;return e.$$set=e=>{"category"in e&&n(0,l=e.category)},e.$$.update=()=>{3&e.$$.dirty&&n(6,c=o?.categories.findIndex((e=>e.id==l.id)))},[l,o,s,r,i,a,c,function(){n(4,i=0),n(3,r=1)},function(){n(4,i=0),n(2,s=1)},function(){n(4,i=1)},async function(){n(4,i=0),confirm(`Certeza que quer excluir a categoria ${l.name}?`)&&(n(5,a=!0),await async function(e){const t=u(he);await be(`category/${e}`,"DELETE"),t.categories=t.categories.filter((t=>t.id!=e)),he.set(t)}(l.id),n(5,a=!1))},function(){Se(l.id)},function(){!async function(e){const t=u(he),n=t.categories.findIndex((t=>t.id==e));await Se(t.categories[n+1].id)}(l.id)},function(e){i=e,n(4,i)},function(e){s=e,n(2,s)},function(e){r=e,n(3,r)}]}class qt extends se{constructor(e){super(),oe(this,e,Nt,kt,r,{category:0})}}function St(e){let t,n;return t=new qe({props:{show:e[0],$$slots:{default:[Ct]},$$scope:{ctx:e}}}),t.$on("close",e[3]),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.show=e[0]),2054&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function Ct(e){let t,n,s,r,i,a,c,l,u,f,d,p,y,k,N,q,S,C,j,P,T,I,L,z=e[1]?"...":"Enviar";return{c(){t=h("h2"),t.textContent="Editando",n=w(),s=h("form"),r=h("label"),i=b("Nome:     "),a=h("input"),c=w(),l=h("label"),u=b("Telefone: "),f=h("input"),d=w(),p=h("label"),y=b("Whatsapp: "),k=h("input"),N=w(),q=h("label"),S=b("Endereço: "),C=h("input"),j=w(),P=h("button"),T=b(z),a.required=!0,_(r,"class","svelte-1mya8io"),f.required=!0,_(l,"class","svelte-1mya8io"),k.required=!0,_(p,"class","svelte-1mya8io"),C.required=!0,_(q,"class","svelte-1mya8io"),P.disabled=e[1]},m(o,m){g(o,t,m),g(o,n,m),g(o,s,m),$(s,r),$(r,i),$(r,a),E(a,e[2].name),$(s,c),$(s,l),$(l,u),$(l,f),E(f,e[2].phone),$(s,d),$(s,p),$(p,y),$(p,k),E(k,e[2].whatsapp),$(s,N),$(s,q),$(q,S),$(q,C),E(C,e[2].address),$(s,j),$(s,P),$(P,T),I||(L=[v(a,"input",e[5]),v(f,"input",e[6]),v(k,"input",e[7]),v(C,"input",e[8]),v(P,"click",e[4])],I=!0)},p(e,t){4&t&&a.value!==e[2].name&&E(a,e[2].name),4&t&&f.value!==e[2].phone&&E(f,e[2].phone),4&t&&k.value!==e[2].whatsapp&&E(k,e[2].whatsapp),4&t&&C.value!==e[2].address&&E(C,e[2].address),2&t&&z!==(z=e[1]?"...":"Enviar")&&x(T,z),2&t&&(P.disabled=e[1])},d(e){e&&m(t),e&&m(n),e&&m(s),I=!1,o(L)}}}function jt(e){let t,n,o=e[0]&&St(e);return{c(){o&&o.c(),t=y()},m(e,s){o&&o.m(e,s),g(e,t,s),n=!0},p(e,[n]){e[0]?o?(o.p(e,n),1&n&&V(o,1)):(o=St(e),o.c(),V(o,1),o.m(t.parentNode,t)):o&&(K(),X(o,1,1,(()=>{o=null})),Q())},i(e){n||(V(o),n=!0)},o(e){X(o),n=!1},d(e){o&&o.d(e),e&&m(t)}}}function Pt(e,t,n){let o;f(e,he,(e=>n(9,o=e)));let s,r,{show:i}=t;function a(){n(0,i=!1)}return e.$$set=e=>{"show"in e&&n(0,i=e.show)},e.$$.update=()=>{1&e.$$.dirty&&i&&(n(1,s=!1),n(2,r={name:o.name,phone:o.phone,whatsapp:o.whatsapp,address:o.address}))},[i,s,r,a,async function(){n(1,s=!0),await async function(e){let t=u(he);await be(`menu/${t.id}`,"PUT",e),t={...t,...e},he.set(t)}(r),a()},function(){r.name=this.value,n(2,r)},function(){r.phone=this.value,n(2,r)},function(){r.whatsapp=this.value,n(2,r)},function(){r.address=this.value,n(2,r)}]}class Tt extends se{constructor(e){super(),oe(this,e,Pt,jt,r,{show:0})}}function It(e,t,n){const o=e.slice();return o[9]=t[n],o}function Lt(e){let t,n;return t=new qt({props:{category:e[9]}}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.category=e[9]),t.$set(o)},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function zt(e){let t,n,o,s,r,i,a,c,l,u,f,d,y,v,E,k,N,q,S,C,j,P,T,I,L,O,A,B,U,D,W,J,R,F,G,H,ne,oe,se,re,ie,ce,le,ue,fe,$e,ge=e[2].name+"",me=(e[2].phone||"Não informado.")+"",pe=(e[2].whatsapp||"Não informado.")+"",he=(e[2].address||"Não informado.")+"";r=new de({props:{class:"right blu",i:"edit",t:"Editar",action:e[3]}}),a=new de({props:{i:"menu_book",action:e[6]}}),l=new de({props:{i:"logout",action:e[5]}}),v=new ae({props:{i:"phone"}}),P=new ae({props:{i:"phone"}}),D=new ae({props:{i:"place"}}),oe=new de({props:{class:"grn",i:"add",t:"Categoria",action:e[4]}});let be=e[2].categories||[],we=[];for(let t=0;t<be.length;t+=1)we[t]=Lt(It(e,be,t));const ye=e=>X(we[e],1,1,(()=>{we[e]=null}));function ve(t){e[7](t)}let _e={};function xe(t){e[8](t)}void 0!==e[0]&&(_e.show=e[0]),ie=new Tt({props:_e}),z.push((()=>Y(ie,"show",ve)));let Ee={};return void 0!==e[1]&&(Ee.show=e[1]),ue=new ct({props:Ee}),z.push((()=>Y(ue,"show",xe))),{c(){t=h("div"),n=h("h1"),o=b(ge),s=w(),Z(r.$$.fragment),i=w(),Z(a.$$.fragment),c=w(),Z(l.$$.fragment),u=w(),f=h("table"),d=h("tr"),y=h("td"),Z(v.$$.fragment),E=b(" Telefone:"),k=w(),N=h("td"),q=b(me),S=w(),C=h("tr"),j=h("td"),Z(P.$$.fragment),T=b(" Whatsapp:"),I=w(),L=h("td"),O=b(pe),A=w(),B=h("tr"),U=h("td"),Z(D.$$.fragment),W=b(" Endereço:"),J=w(),R=h("td"),F=b(he),G=w(),H=h("div"),ne=w(),Z(oe.$$.fragment),se=w();for(let e=0;e<we.length;e+=1)we[e].c();re=w(),Z(ie.$$.fragment),le=w(),Z(ue.$$.fragment),_(t,"class","row"),_(y,"class","svelte-i7doj6"),_(N,"class","svelte-i7doj6"),_(j,"class","svelte-i7doj6"),_(L,"class","svelte-i7doj6"),_(U,"class","svelte-i7doj6"),_(R,"class","svelte-i7doj6"),_(H,"class","hr")},m(e,m){g(e,t,m),$(t,n),$(n,o),$(t,s),ee(r,t,null),$(t,i),ee(a,t,null),$(t,c),ee(l,t,null),g(e,u,m),g(e,f,m),$(f,d),$(d,y),ee(v,y,null),$(y,E),$(d,k),$(d,N),$(N,q),$(f,S),$(f,C),$(C,j),ee(P,j,null),$(j,T),$(C,I),$(C,L),$(L,O),$(f,A),$(f,B),$(B,U),ee(D,U,null),$(U,W),$(B,J),$(B,R),$(R,F),g(e,G,m),g(e,H,m),g(e,ne,m),ee(oe,e,m),g(e,se,m);for(let t=0;t<we.length;t+=1)we[t]&&we[t].m(e,m);g(e,re,m),ee(ie,e,m),g(e,le,m),ee(ue,e,m),$e=!0},p(e,[t]){if((!$e||4&t)&&ge!==(ge=e[2].name+"")&&x(o,ge),(!$e||4&t)&&me!==(me=(e[2].phone||"Não informado.")+"")&&x(q,me),(!$e||4&t)&&pe!==(pe=(e[2].whatsapp||"Não informado.")+"")&&x(O,pe),(!$e||4&t)&&he!==(he=(e[2].address||"Não informado.")+"")&&x(F,he),4&t){let n;for(be=e[2].categories||[],n=0;n<be.length;n+=1){const o=It(e,be,n);we[n]?(we[n].p(o,t),V(we[n],1)):(we[n]=Lt(o),we[n].c(),V(we[n],1),we[n].m(re.parentNode,re))}for(K(),n=be.length;n<we.length;n+=1)ye(n);Q()}const n={};!ce&&1&t&&(ce=!0,n.show=e[0],M((()=>ce=!1))),ie.$set(n);const s={};!fe&&2&t&&(fe=!0,s.show=e[1],M((()=>fe=!1))),ue.$set(s)},i(e){if(!$e){V(r.$$.fragment,e),V(a.$$.fragment,e),V(l.$$.fragment,e),V(v.$$.fragment,e),V(P.$$.fragment,e),V(D.$$.fragment,e),V(oe.$$.fragment,e);for(let e=0;e<be.length;e+=1)V(we[e]);V(ie.$$.fragment,e),V(ue.$$.fragment,e),$e=!0}},o(e){X(r.$$.fragment,e),X(a.$$.fragment,e),X(l.$$.fragment,e),X(v.$$.fragment,e),X(P.$$.fragment,e),X(D.$$.fragment,e),X(oe.$$.fragment,e),we=we.filter(Boolean);for(let e=0;e<we.length;e+=1)X(we[e]);X(ie.$$.fragment,e),X(ue.$$.fragment,e),$e=!1},d(e){e&&m(t),te(r),te(a),te(l),e&&m(u),e&&m(f),te(v),te(P),te(D),e&&m(G),e&&m(H),e&&m(ne),te(oe,e),e&&m(se),p(we,e),e&&m(re),te(ie,e),e&&m(le),te(ue,e)}}}function Ot(e,t,n){let o,s,r;return f(e,he,(e=>n(2,o=e))),[s,r,o,function(){n(0,s=1)},function(){n(1,r=1)},function(){confirm("Certeza que deseja sair dessa conta?")&&(be(`logout/${me}`),localStorage.removeItem("session_id"),me.set(),he.set())},function(){window.location.href=`/s/cardapio/${o.id}`},function(e){s=e,n(0,s)},function(e){r=e,n(1,r)}]}class At extends se{constructor(e){super(),oe(this,e,Ot,zt,r,{})}}function Bt(e){let t,n,o,s,r,i,a;return n=new ae({props:{i:e[2]}}),{c(){t=h("li"),Z(n.$$.fragment),o=w(),s=b(e[1]),_(t,"class","row"),S(t,"active",e[3]==e[0])},m(c,l){g(c,t,l),ee(n,t,null),$(t,o),$(t,s),r=!0,i||(a=v(t,"click",e[4]),i=!0)},p(e,[o]){const i={};4&o&&(i.i=e[2]),n.$set(i),(!r||2&o)&&x(s,e[1]),(!r||9&o)&&S(t,"active",e[3]==e[0])},i(e){r||(V(n.$$.fragment,e),r=!0)},o(e){X(n.$$.fragment,e),r=!1},d(e){e&&m(t),te(n),i=!1,a()}}}function Ut(e,t,n){let o;f(e,pe,(e=>n(3,o=e)));let{page:s,name:r,i:i}=t;return e.$$set=e=>{"page"in e&&n(0,s=e.page),"name"in e&&n(1,r=e.name),"i"in e&&n(2,i=e.i)},[s,r,i,o,function(){pe.set(s)}]}class Dt extends se{constructor(e){super(),oe(this,e,Ut,Bt,r,{page:0,name:1,i:2})}}function Mt(e){let t,n;return t=new Dt({props:{page:"login",name:"Login",i:"login"}}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function Wt(e){let t,n,o,s;return t=new Dt({props:{page:"menu",name:"Cardápio",i:"restaurant_menu"}}),o=new Dt({props:{page:"items",name:"Produtos",i:"lunch_dining"}}),{c(){Z(t.$$.fragment),n=w(),Z(o.$$.fragment)},m(e,r){ee(t,e,r),g(e,n,r),ee(o,e,r),s=!0},i(e){s||(V(t.$$.fragment,e),V(o.$$.fragment,e),s=!0)},o(e){X(t.$$.fragment,e),X(o.$$.fragment,e),s=!1},d(e){te(t,e),e&&m(n),te(o,e)}}}function Jt(e){let t,n,o,s,r,i,a=window.location.href.endsWith("adm");const c=[Wt,Mt],l=[];function u(e,t){return e[0]?0:1}o=u(e),s=l[o]=c[o](e);let f=a&&function(e){let t,n;return t=new Dt({props:{page:"admin",name:"Admin",i:"build"}}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}();return{c(){t=h("div"),n=h("ul"),s.c(),r=w(),f&&f.c(),_(n,"class","row svelte-gt0cw1"),_(t,"class","usn tac topbar svelte-gt0cw1")},m(e,s){g(e,t,s),$(t,n),l[o].m(n,null),$(n,r),f&&f.m(n,null),i=!0},p(e,[t]){let i=o;o=u(e),o!==i&&(K(),X(l[i],1,1,(()=>{l[i]=null})),Q(),s=l[o],s||(s=l[o]=c[o](e),s.c()),V(s,1),s.m(n,r))},i(e){i||(V(s),V(f),i=!0)},o(e){X(s),X(f),i=!1},d(e){e&&m(t),l[o].d(),f&&f.d()}}}function Rt(e,t,n){let o;return f(e,me,(e=>n(0,o=e))),[o]}class Ft extends se{constructor(e){super(),oe(this,e,Rt,Jt,r,{})}}function Gt(e){let t,n;return{c(){t=h("p"),n=b(e[1]),_(t,"class","red")},m(e,o){g(e,t,o),$(t,n)},p(e,t){2&t&&x(n,e[1])},d(e){e&&m(t)}}}function Ht(e){let t,n,s,r,i,a,c,l,u,f,d,p,y,N,q,S,C,j,P,T,I=e[3]?"...":"Entrar",L=e[1]&&Gt(e);return N=new ae({props:{i:e[2]?"visibility_off":"visibility"}}),N.$on("click",e[4]),{c(){t=h("form"),L&&L.c(),n=w(),s=h("label"),r=b("Nome:\n    "),i=h("input"),a=w(),c=h("label"),l=b("Senha:\n    "),u=h("div"),f=h("input"),d=w(),p=h("input"),y=w(),Z(N.$$.fragment),q=w(),S=h("button"),C=b(I),_(i,"type","text"),i.required=!0,_(i,"class","svelte-1vbuy7x"),_(f,"type","password"),k(f,"display",e[2]?"none":"block"),_(f,"class","svelte-1vbuy7x"),_(p,"type","text"),k(p,"display",e[2]?"block":"none"),_(p,"class","svelte-1vbuy7x"),_(u,"class","password-container"),_(S,"type","submit"),S.disabled=e[3],_(S,"class","svelte-1vbuy7x"),_(t,"class","tas svelte-1vbuy7x")},m(o,m){g(o,t,m),L&&L.m(t,null),$(t,n),$(t,s),$(s,r),$(s,i),E(i,e[0].username),$(t,a),$(t,c),$(c,l),$(c,u),$(u,f),E(f,e[0].password),$(u,d),$(u,p),E(p,e[0].password),$(u,y),ee(N,u,null),$(t,q),$(t,S),$(S,C),j=!0,P||(T=[v(i,"input",e[6]),v(f,"input",e[7]),v(p,"input",e[8]),v(t,"submit",e[5])],P=!0)},p(e,[o]){e[1]?L?L.p(e,o):(L=Gt(e),L.c(),L.m(t,n)):L&&(L.d(1),L=null),1&o&&i.value!==e[0].username&&E(i,e[0].username),(!j||4&o)&&k(f,"display",e[2]?"none":"block"),1&o&&f.value!==e[0].password&&E(f,e[0].password),(!j||4&o)&&k(p,"display",e[2]?"block":"none"),1&o&&p.value!==e[0].password&&E(p,e[0].password);const s={};4&o&&(s.i=e[2]?"visibility_off":"visibility"),N.$set(s),(!j||8&o)&&I!==(I=e[3]?"...":"Entrar")&&x(C,I),(!j||8&o)&&(S.disabled=e[3])},i(e){j||(V(N.$$.fragment,e),j=!0)},o(e){X(N.$$.fragment,e),j=!1},d(e){e&&m(t),L&&L.d(),te(N),P=!1,o(T)}}}function Kt(e,t,n){let o,s,r,i={username:"",password:""};return[i,o,s,r,function(){n(2,s=!s)},async function(e){e.preventDefault(),n(1,o=""),n(3,r=!0);const{res:t,data:s}=await be("login","POST",i);if(n(3,r=!1),t.ok)return localStorage.setItem("session_id",s.session.id),me.set(s.session.id),void he.set((await be(`menu/${s.session.menu_id}`)).data.menu);n(0,i.username="",i),n(0,i.password="",i),n(1,o="Credenciais inválidas")},function(){i.username=this.value,n(0,i)},function(){i.password=this.value,n(0,i)},function(){i.password=this.value,n(0,i)}]}class Qt extends se{constructor(e){super(),oe(this,e,Kt,Ht,r,{})}}function Vt(e){let t;return{c(){t=h("div"),_(t,"class","dots svelte-10qxemj")},m(e,n){g(e,t,n)},d(e){e&&m(t)}}}function Xt(e){let t,n,o=e[0].description+"";return{c(){t=h("p"),n=b(o),_(t,"class","desc svelte-10qxemj")},m(e,o){g(e,t,o),$(t,n)},p(e,t){1&t&&o!==(o=e[0].description+"")&&x(n,o)},d(e){e&&m(t)}}}function Yt(t){let n,o,s,r,i,a,c,l,u,f,d,p=t[0].name+"",y=Zt(t[0].price_in_cents)+"",v=!t[0].description&&Vt(),E=t[0].description&&Xt(t);return{c(){n=h("div"),o=h("div"),s=h("p"),r=b(p),i=w(),v&&v.c(),a=w(),c=h("p"),l=h("span"),l.textContent="R$",u=w(),f=b(y),d=w(),E&&E.c(),_(s,"class","name svelte-10qxemj"),_(l,"class","svelte-10qxemj"),_(c,"class","price svelte-10qxemj"),_(o,"class","row jcsb"),_(n,"class","main svelte-10qxemj")},m(e,t){g(e,n,t),$(n,o),$(o,s),$(s,r),$(o,i),v&&v.m(o,null),$(o,a),$(o,c),$(c,l),$(c,u),$(c,f),$(n,d),E&&E.m(n,null)},p(e,[t]){1&t&&p!==(p=e[0].name+"")&&x(r,p),e[0].description?v&&(v.d(1),v=null):v||(v=Vt(),v.c(),v.m(o,a)),1&t&&y!==(y=Zt(e[0].price_in_cents)+"")&&x(f,y),e[0].description?E?E.p(e,t):(E=Xt(e),E.c(),E.m(n,null)):E&&(E.d(1),E=null)},i:e,o:e,d(e){e&&m(n),v&&v.d(),E&&E.d()}}}function Zt(e){let t=String(e/100).replace(".",",");return e%100==0?t+=",00":e%10==0&&(t+="0"),t}function en(e,t,n){let{item:o}=t;return e.$$set=e=>{"item"in e&&n(0,o=e.item)},[o]}class tn extends se{constructor(e){super(),oe(this,e,en,Yt,r,{item:0})}}function nn(e,t,n){const o=e.slice();return o[1]=t[n],o}function on(e){let t,n;return t=new tn({props:{item:e[1]}}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.item=e[1]),t.$set(o)},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function sn(e){let t,n,o,s,r,i=e[0].name+"",a=e[0].items,c=[];for(let t=0;t<a.length;t+=1)c[t]=on(nn(e,a,t));const l=e=>X(c[e],1,1,(()=>{c[e]=null}));return{c(){t=h("main"),n=h("h1"),o=b(i),s=w();for(let e=0;e<c.length;e+=1)c[e].c();_(n,"class","svelte-1ikrvhe")},m(e,i){g(e,t,i),$(t,n),$(n,o),$(t,s);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(t,null);r=!0},p(e,[n]){if((!r||1&n)&&i!==(i=e[0].name+"")&&x(o,i),1&n){let o;for(a=e[0].items,o=0;o<a.length;o+=1){const s=nn(e,a,o);c[o]?(c[o].p(s,n),V(c[o],1)):(c[o]=on(s),c[o].c(),V(c[o],1),c[o].m(t,null))}for(K(),o=a.length;o<c.length;o+=1)l(o);Q()}},i(e){if(!r){for(let e=0;e<a.length;e+=1)V(c[e]);r=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)X(c[e]);r=!1},d(e){e&&m(t),p(c,e)}}}function rn(e,t,n){let{category:o}=t;return e.$$set=e=>{"category"in e&&n(0,o=e.category)},[o]}class an extends se{constructor(e){super(),oe(this,e,rn,sn,r,{category:0})}}function cn(e,t,n){const o=e.slice();return o[1]=t[n],o}function ln(e){let t,n;return t=new an({props:{category:e[1]}}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.category=e[1]),t.$set(o)},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function un(e){let t,n,o,s,r,i,a,l,u,f,d,b,y,v,x=e[0].categories[0].subcategories,E=[];for(let t=0;t<x.length;t+=1)E[t]=ln(cn(e,x,t));const k=e=>X(E[e],1,1,(()=>{E[e]=null}));return{c(){t=h("div"),n=h("main"),o=h("img"),r=w();for(let e=0;e<E.length;e+=1)E[e].c();i=w(),a=h("br"),l=w(),u=h("br"),f=w(),d=h("br"),b=w(),y=h("br"),c(o.src,s=`../../../img/${e[0].id}/banner.png`)||_(o,"src",s),_(o,"alt","banner"),_(o,"class","svelte-c032bu"),_(n,"class","svelte-c032bu"),_(t,"class","background svelte-c032bu")},m(e,s){g(e,t,s),$(t,n),$(n,o),$(n,r);for(let e=0;e<E.length;e+=1)E[e]&&E[e].m(n,null);$(n,i),$(n,a),$(n,l),$(n,u),$(n,f),$(n,d),$(n,b),$(n,y),v=!0},p(e,[t]){if((!v||1&t&&!c(o.src,s=`../../../img/${e[0].id}/banner.png`))&&_(o,"src",s),1&t){let o;for(x=e[0].categories[0].subcategories,o=0;o<x.length;o+=1){const s=cn(e,x,o);E[o]?(E[o].p(s,t),V(E[o],1)):(E[o]=ln(s),E[o].c(),V(E[o],1),E[o].m(n,i))}for(K(),o=x.length;o<E.length;o+=1)k(o);Q()}},i(e){if(!v){for(let e=0;e<x.length;e+=1)V(E[e]);v=!0}},o(e){E=E.filter(Boolean);for(let e=0;e<E.length;e+=1)X(E[e]);v=!1},d(e){e&&m(t),p(E,e)}}}function fn(e,t,n){let{menu:o}=t;return e.$$set=e=>{"menu"in e&&n(0,o=e.menu)},[o]}let dn=class extends se{constructor(e){super(),oe(this,e,fn,un,r,{menu:0})}};function $n(t){let n;return{c(){n=b("Cardápio não encontrado")},m(e,t){g(e,n,t)},p:e,i:e,o:e,d(e){e&&m(n)}}}function gn(e){let t,n,o;var s=e[0];function r(e){return{props:{menu:e[1]}}}return s&&(t=C(s,r(e))),{c(){t&&Z(t.$$.fragment),n=y()},m(e,s){t&&ee(t,e,s),g(e,n,s),o=!0},p(e,o){const i={};if(2&o&&(i.menu=e[1]),1&o&&s!==(s=e[0])){if(t){K();const e=t;X(e.$$.fragment,1,0,(()=>{te(e,1)})),Q()}s?(t=C(s,r(e)),Z(t.$$.fragment),V(t.$$.fragment,1),ee(t,n.parentNode,n)):t=null}else s&&t.$set(i)},i(e){o||(t&&V(t.$$.fragment,e),o=!0)},o(e){t&&X(t.$$.fragment,e),o=!1},d(e){e&&m(n),t&&te(t,e)}}}function mn(t){let n;return{c(){n=b("Carregando...")},m(e,t){g(e,n,t)},p:e,i:e,o:e,d(e){e&&m(n)}}}function pn(e){let t,n,o,s;const r=[mn,gn,$n],i=[];function a(e,t){return e[0]||e[2]?e[0]?1:2:0}return t=a(e),n=i[t]=r[t](e),{c(){n.c(),o=y()},m(e,n){i[t].m(e,n),g(e,o,n),s=!0},p(e,[s]){let c=t;t=a(e),t===c?i[t].p(e,s):(K(),X(i[c],1,1,(()=>{i[c]=null})),Q(),n=i[t],n?n.p(e,s):(n=i[t]=r[t](e),n.c()),V(n,1),n.m(o.parentNode,o))},i(e){s||(V(n),s=!0)},o(e){X(n),s=!1},d(e){i[t].d(e),e&&m(o)}}}function hn(e,t,n){let o,s,r,i,a={clyp7z8db0000cxl6arjgaa23:dn};return T((async e=>{s=window.location.pathname.split("/").pop();const{res:t,data:c}=await be(`menu/${s}`);return t.ok?(n(1,r=c.menu),n(0,o=a[s]),o?void 0:n(2,i=1)):n(2,i=1)})),[o,r,i]}class bn extends se{constructor(e){super(),oe(this,e,hn,pn,r,{})}}function wn(e){let t,n,o,s,r,i;t=new Ft({});const a=[kn,En,xn,_n,vn],c=[];function l(e,t){return e[1]?0:e[3]&&"menu"==e[0]?1:e[3]&&"items"==e[0]?2:"login"==e[0]?3:"admin"==e[0]?4:-1}return~(s=l(e))&&(r=c[s]=a[s](e)),{c(){Z(t.$$.fragment),n=w(),o=h("main"),r&&r.c(),_(o,"class","svelte-t87hng")},m(e,r){ee(t,e,r),g(e,n,r),g(e,o,r),~s&&c[s].m(o,null),i=!0},p(e,t){let n=s;s=l(e),s!==n&&(r&&(K(),X(c[n],1,1,(()=>{c[n]=null})),Q()),~s?(r=c[s],r||(r=c[s]=a[s](e),r.c()),V(r,1),r.m(o,null)):r=null)},i(e){i||(V(t.$$.fragment,e),V(r),i=!0)},o(e){X(t.$$.fragment,e),X(r),i=!1},d(e){te(t,e),e&&m(n),e&&m(o),~s&&c[s].d()}}}function yn(t){let n,o;return n=new bn({}),{c(){Z(n.$$.fragment)},m(e,t){ee(n,e,t),o=!0},p:e,i(e){o||(V(n.$$.fragment,e),o=!0)},o(e){X(n.$$.fragment,e),o=!1},d(e){te(n,e)}}}function vn(e){let t,n;return t=new xe({}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function _n(e){let t,n;return t=new Qt({}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function xn(e){let t,n;return t=new st({}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function En(e){let t,n;return t=new At({}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},i(e){n||(V(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function kn(t){let n;return{c(){n=b("Carregando...")},m(e,t){g(e,n,t)},i:e,o:e,d(e){e&&m(n)}}}function Nn(e){let t,n,o,s;const r=[yn,wn],i=[];function a(e,t){return e[2]?0:1}return t=a(e),n=i[t]=r[t](e),{c(){n.c(),o=y()},m(e,n){i[t].m(e,n),g(e,o,n),s=!0},p(e,[s]){let c=t;t=a(e),t===c?i[t].p(e,s):(K(),X(i[c],1,1,(()=>{i[c]=null})),Q(),n=i[t],n?n.p(e,s):(n=i[t]=r[t](e),n.c()),V(n,1),n.m(o.parentNode,o))},i(e){s||(V(n),s=!0)},o(e){X(n),s=!1},d(e){i[t].d(e),e&&m(o)}}}function qn(e,t,n){let o,s,r,i,a;return f(e,pe,(e=>n(0,o=e))),f(e,me,(e=>n(4,s=e))),f(e,he,(e=>n(3,r=e))),T((async e=>{if(window.location.pathname.startsWith("/s/cardapio"))return n(2,a=!0);n(1,i=!0);const t=localStorage.getItem("session_id");if(!t)return n(1,i=!1);const{res:o,data:s}=await be(`menu-from-session/${t}`);n(1,i=!1),o.ok&&(me.set(t),he.set(s.menu))})),e.$$.update=()=>{17&e.$$.dirty&&(s||"admin"==o?"login"!=o&&o||pe.set("items"):pe.set("login"))},[o,i,a,r,s]}var Sn=new class extends se{constructor(e){super(),oe(this,e,qn,Nn,r,{})}}({target:document.body});export{Sn as default};
//# sourceMappingURL=main.js.map

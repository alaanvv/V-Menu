function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s,a;function c(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function l(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(t){let e;return l(t,(t=>e=t))(),e}function f(t,e,n){t.$$.on_destroy.push(l(e,n))}function d(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function g(t,e){t.appendChild(e)}function m(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function $(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function w(t){return document.createTextNode(t)}function b(){return w(" ")}function y(){return w("")}function v(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function E(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){e=""+e,t.data!==e&&(t.data=e)}function C(t,e){t.value=null==e?"":e}function _(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function N(t,e,n){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function A(t){const e=t.querySelector(":checked");return e&&e.__value}function I(t,e,n){t.classList[n?"add":"remove"](e)}function T(t,e){return new t(e)}function B(t){a=t}function P(){if(!a)throw new Error("Function called outside component initialization");return a}function k(t){P().$$.on_mount.push(t)}function M(){const t=P();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const i=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,i)})),!i.defaultPrevented}return!0}}const S=[],L=[];let R=[];const U=[],z=Promise.resolve();let j=!1;function q(t){R.push(t)}function D(t){U.push(t)}const F=new Set;let H=0;function J(){if(0!==H)return;const t=a;do{try{for(;H<S.length;){const t=S[H];H++,B(t),O(t.$$)}}catch(t){throw S.length=0,H=0,t}for(B(null),S.length=0,H=0;L.length;)L.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];F.has(e)||(F.add(e),e())}R.length=0}while(S.length);for(;U.length;)U.pop()();j=!1,F.clear(),B(t)}function O(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(q)}}const K=new Set;let Y;function V(){Y={r:0,c:[],p:Y}}function Q(){Y.r||r(Y.c),Y=Y.p}function W(t,e){t&&t.i&&(K.delete(t),t.i(e))}function Z(t,e,n,r){if(t&&t.o){if(K.has(t))return;K.add(t),Y.c.push((()=>{K.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function X(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function G(t){t&&t.c()}function tt(t,n,i,s){const{fragment:a,after_update:c}=t.$$;a&&a.m(n,i),s||q((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),c.forEach(q)}function et(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];R.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),R=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function nt(t,e){-1===t.$$.dirty[0]&&(S.push(t),j||(j=!0,z.then(J)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function rt(e,o,i,s,c,l,u,f=[-1]){const d=a;B(e);const g=e.$$={fragment:null,ctx:[],props:l,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||d.$$.root};u&&u(g.root);let m=!1;if(g.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return g.ctx&&c(g.ctx[t],g.ctx[t]=o)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](o),m&&nt(e,t)),n})):[],g.update(),m=!0,r(g.before_update),g.fragment=!!s&&s(g.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);g.fragment&&g.fragment.l(t),t.forEach(p)}else g.fragment&&g.fragment.c();o.intro&&W(e.$$.fragment),tt(e,o.target,o.anchor,o.customElement),J()}B(d)}class ot{$destroy(){et(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function it(e){let n,r,o,i,s;return{c(){n=h("span"),r=w(e[0]),E(n,"class",o=e[1]+" material-symbols-outlined")},m(t,o){m(t,n,o),g(n,r),i||(s=v(n,"click",e[3]),i=!0)},p(t,[e]){1&e&&x(r,t[0]),2&e&&o!==(o=t[1]+" material-symbols-outlined")&&E(n,"class",o)},i:t,o:t,d(t){t&&p(n),i=!1,s()}}}function st(t,e,n){const r=M();let{i:o}=e,{class:i=""}=e;return t.$$set=t=>{"i"in t&&n(0,o=t.i),"class"in t&&n(1,i=t.class)},[o,i,r,t=>r("click")]}class at extends ot{constructor(t){super(),rt(this,t,st,it,i,{i:0,class:1})}}function ct(t){let e,n;return e=new at({props:{i:t[0]}}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.i=t[0]),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function lt(t){let e;return{c(){e=w(t[1])},m(t,n){m(t,e,n)},p(t,n){2&n&&x(e,t[1])},d(t){t&&p(e)}}}function ut(t){let e,n,r,i,s,a=t[0]&&ct(t),c=t[1]&&lt(t);return{c(){e=h("button"),a&&a.c(),n=b(),c&&c.c(),E(e,"class",t[4]),e.disabled=t[3],I(e,"row",t[0]&&t[1])},m(l,u){m(l,e,u),a&&a.m(e,null),g(e,n),c&&c.m(e,null),r=!0,i||(s=v(e,"click",(function(){o(t[2])&&t[2].apply(this,arguments)})),i=!0)},p(o,[i]){(t=o)[0]?a?(a.p(t,i),1&i&&W(a,1)):(a=ct(t),a.c(),W(a,1),a.m(e,n)):a&&(V(),Z(a,1,1,(()=>{a=null})),Q()),t[1]?c?c.p(t,i):(c=lt(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null),(!r||16&i)&&E(e,"class",t[4]),(!r||8&i)&&(e.disabled=t[3]),(!r||19&i)&&I(e,"row",t[0]&&t[1])},i(t){r||(W(a),r=!0)},o(t){Z(a),r=!1},d(t){t&&p(e),a&&a.d(),c&&c.d(),i=!1,s()}}}function ft(t,e,n){let{i:r,t:o,action:i,disabled:s}=e,{class:a=""}=e;return t.$$set=t=>{"i"in t&&n(0,r=t.i),"t"in t&&n(1,o=t.t),"action"in t&&n(2,i=t.action),"disabled"in t&&n(3,s=t.disabled),"class"in t&&n(4,a=t.class)},[r,o,i,s,a]}class dt extends ot{constructor(t){super(),rt(this,t,ft,ut,i,{i:0,t:1,action:2,disabled:3,class:4})}}const gt=[];function mt(e,n=t){let r;const o=new Set;function s(t){if(i(e,t)&&(e=t,r)){const t=!gt.length;for(const t of o)t[1](),gt.push(t,e);if(t){for(let t=0;t<gt.length;t+=2)gt[t][0](gt[t+1]);gt.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,a=t){const c=[i,a];return o.add(c),1===o.size&&(r=n(s)||t),i(e),()=>{o.delete(c),0===o.size&&r&&(r(),r=null)}}}}const pt=mt(),$t=mt(),ht=mt();async function wt(t,e,n){const r={headers:{},method:e||"GET"};u(pt)?r.headers.Authorization=`Bearer ${u(pt)}`:localStorage.getItem("session_id")&&(r.headers.Authorization=`Bearer ${localStorage.getItem("session_id")}`),n&&(r.body=JSON.stringify(n),r.headers["Content-Type"]="application/json");const o=await fetch(`${window.location.origin}/${t}`,r);let i;return o.headers?.get("content-type")?.includes("application/json")&&(i=await o.json()),{res:o,data:i}}function bt(t,e,n){const r=t.slice();return r[9]=e[n],r}function yt(t){let e,n,r,o,i,s,a,c=t[9].name+"";function l(...e){return t[8](t[9],...e)}return i=new dt({props:{class:"red",action:l,i:"delete"}}),{c(){e=h("div"),n=h("h2"),r=w(c),o=b(),G(i.$$.fragment),s=b(),E(n,"class","special tac"),E(e,"class","card row svelte-1oot8iw")},m(t,c){m(t,e,c),g(e,n),g(n,r),g(e,o),tt(i,e,null),g(e,s),a=!0},p(e,n){t=e,(!a||1&n)&&c!==(c=t[9].name+"")&&x(r,c);const o={};1&n&&(o.action=l),i.$set(o)},i(t){a||(W(i.$$.fragment,t),a=!0)},o(t){Z(i.$$.fragment,t),a=!1},d(t){t&&p(e),et(i)}}}function vt(t){let e,n,o,i,s,a,c,l,u,f,d,y,x,_,N,A,I,T,B,P,k;_=new dt({props:{disabled:t[2],action:t[3],t:t[2]?"...":"Create"}});let M=t[0]||[],S=[];for(let e=0;e<M.length;e+=1)S[e]=yt(bt(t,M,e));const L=t=>Z(S[t],1,1,(()=>{S[t]=null}));return{c(){e=h("form"),n=h("label"),o=w("Username: "),i=h("input"),s=b(),a=h("label"),c=w("Password: "),l=h("input"),u=b(),f=h("label"),d=w("Name:     "),y=h("input"),x=b(),G(_.$$.fragment),N=b(),A=h("div"),I=b(),T=h("div");for(let t=0;t<S.length;t+=1)S[t].c();i.required=!0,E(i,"class","svelte-1oot8iw"),l.required=!0,E(l,"class","svelte-1oot8iw"),y.required=!0,E(y,"class","svelte-1oot8iw"),E(e,"class","svelte-1oot8iw"),E(A,"class","hr"),E(T,"class","cards svelte-1oot8iw")},m(r,p){m(r,e,p),g(e,n),g(n,o),g(n,i),C(i,t[1].username),g(e,s),g(e,a),g(a,c),g(a,l),C(l,t[1].password),g(e,u),g(e,f),g(f,d),g(f,y),C(y,t[1].name),g(e,x),tt(_,e,null),m(r,N,p),m(r,A,p),m(r,I,p),m(r,T,p);for(let t=0;t<S.length;t+=1)S[t]&&S[t].m(T,null);B=!0,P||(k=[v(i,"input",t[5]),v(l,"input",t[6]),v(y,"input",t[7])],P=!0)},p(t,[e]){2&e&&i.value!==t[1].username&&C(i,t[1].username),2&e&&l.value!==t[1].password&&C(l,t[1].password),2&e&&y.value!==t[1].name&&C(y,t[1].name);const n={};if(4&e&&(n.disabled=t[2]),4&e&&(n.t=t[2]?"...":"Create"),_.$set(n),17&e){let n;for(M=t[0]||[],n=0;n<M.length;n+=1){const r=bt(t,M,n);S[n]?(S[n].p(r,e),W(S[n],1)):(S[n]=yt(r),S[n].c(),W(S[n],1),S[n].m(T,null))}for(V(),n=M.length;n<S.length;n+=1)L(n);Q()}},i(t){if(!B){W(_.$$.fragment,t);for(let t=0;t<M.length;t+=1)W(S[t]);B=!0}},o(t){Z(_.$$.fragment,t),S=S.filter(Boolean);for(let t=0;t<S.length;t+=1)Z(S[t]);B=!1},d(t){t&&p(e),et(_),t&&p(N),t&&p(A),t&&p(I),t&&p(T),$(S,t),P=!1,r(k)}}}function Et(t,e,n){let r,o,i={};async function s(t){confirm("Are you sure you want to delete it?")&&(await wt(`menu/${t}`,"DELETE"),n(0,r=r.filter((e=>e.id!=t))))}k((async t=>{n(0,r=(await wt("menus")).data.menus)}));return[r,i,o,async function(){n(2,o=!0),console.log(i);const{data:t}=await wt("menu","POST",i);n(0,r=[...r,t.menu]),n(2,o=!1),n(1,i={})},s,function(){i.username=this.value,n(1,i)},function(){i.password=this.value,n(1,i)},function(){i.name=this.value,n(1,i)},(t,e)=>s(t.id)]}class xt extends ot{constructor(t){super(),rt(this,t,Et,vt,i,{})}}function Ct(t){let e,n,r,o,i;const s=t[3].default,a=function(t,e,n,r){if(t){const o=d(t,e,n,r);return t[0](o)}}(s,t,t[2],null);return{c(){e=h("div"),n=h("div"),a&&a.c(),E(n,"class","modal-content svelte-1agyxdy"),E(e,"class","modal svelte-1agyxdy")},m(s,c){m(s,e,c),g(e,n),a&&a.m(n,null),r=!0,o||(i=v(e,"click",t[1]),o=!0)},p(t,e){a&&a.p&&(!r||4&e)&&function(t,e,n,r,o,i){if(o){const s=d(e,n,r,i);t.p(s,o)}}(a,s,t,t[2],r?function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(s,t[2],e,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[2]),null)},i(t){r||(W(a,t),r=!0)},o(t){Z(a,t),r=!1},d(t){t&&p(e),a&&a.d(t),o=!1,i()}}}function _t(t){let e,n,r=t[0]&&Ct(t);return{c(){r&&r.c(),e=y()},m(t,o){r&&r.m(t,o),m(t,e,o),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&W(r,1)):(r=Ct(t),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(V(),Z(r,1,1,(()=>{r=null})),Q())},i(t){n||(W(r),n=!0)},o(t){Z(r),n=!1},d(t){r&&r.d(t),t&&p(e)}}}function Nt(t,e,n){let{$$slots:r={},$$scope:o}=e;const i=M();let{show:s}=e;function a(){i("close"),n(0,s=!1)}return k((t=>{function e(t){"Escape"==t.key&&a()}return window.addEventListener("keydown",e),t=>{window.removeEventListener("keydown",e)}})),t.$$set=t=>{"show"in t&&n(0,s=t.show),"$$scope"in t&&n(2,o=t.$$scope)},[s,function(t){t.target.classList.contains("modal")&&a()},o,r]}class At extends ot{constructor(t){super(),rt(this,t,Nt,_t,i,{show:0})}}async function It(t){const e=u(ht);await wt(`raise-category/${t}`,"PUT");const n=e.categories.findIndex((e=>e.id==t)),r=e.categories.splice(n,1)[0];e.categories=[...e.categories.slice(0,n-1),r,...e.categories.slice(n-1)],ht.set(e)}async function Tt(t){const e=u(ht);await wt(`raise-subcategory/${t}`,"PUT");for(let n in e.categories){const r=e.categories[n].subcategories.findIndex((e=>e.id==t));if(-1==r)continue;const o=e.categories[n].subcategories.splice(r,1)[0];e.categories[n].subcategories=[...e.categories[n].subcategories.slice(0,r-1),o,...e.categories[n].subcategories.slice(r-1)];break}ht.set(e)}async function Bt(t){const e=u(ht);await wt(`raise-item/${t}`,"PUT");for(let n in e.categories){const r=e.categories[n].subcategories.findIndex((e=>e.items.find((e=>e.id==t))));if(-1==r)continue;const o=e.categories[n].subcategories[r].items.findIndex((e=>e.id==t)),i=e.categories[n].subcategories[r].items.splice(o,1)[0];e.categories[n].subcategories[r].items=[...e.categories[n].subcategories[r].items.slice(0,o-1),i,...e.categories[n].subcategories[r].items.slice(o-1)];break}ht.set(e)}function Pt(t){let e,n;return e=new At({props:{show:t[0],$$slots:{default:[kt]},$$scope:{ctx:t}}}),e.$on("close",t[4]),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.show=t[0]),2062&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function kt(t){let e,n,o,i,s,a,c,l,u,f,d,$,y,N,A,I,T,B,P,k,M,S,L,R=t[1]?`Produto: ${t[1].name}`:"Criando um Produto",U=t[3]?"...":t[1]?"Editar":"Criar";return{c(){e=h("h2"),n=w(R),o=b(),i=h("form"),s=h("label"),a=w("Nome:      "),c=h("input"),l=b(),u=h("label"),f=w("Descrição: "),d=h("textarea"),$=b(),y=h("label"),N=w("Preço:     "),A=h("input"),I=b(),T=h("button"),B=w(U),P=b(),k=h("button"),M=w("Cancelar"),E(e,"class","special tac"),c.required=!0,E(s,"class","svelte-1mya8io"),E(d,"rows","5"),E(u,"class","svelte-1mya8io"),E(A,"placehloder","R$"),E(A,"rows","5"),A.required=!0,E(y,"class","svelte-1mya8io"),E(T,"class","grn"),T.disabled=t[3],E(k,"class","red"),_(k,"margin-top","10px"),k.disabled=t[3]},m(r,p){m(r,e,p),g(e,n),m(r,o,p),m(r,i,p),g(i,s),g(s,a),g(s,c),C(c,t[2].name),g(i,l),g(i,u),g(u,f),g(u,d),C(d,t[2].description),g(i,$),g(i,y),g(y,N),g(y,A),C(A,t[2].price),g(i,I),g(i,T),g(T,B),g(i,P),g(i,k),g(k,M),S||(L=[v(c,"input",t[7]),v(d,"input",t[8]),v(A,"input",t[9]),v(T,"click",t[5]),v(k,"click",t[4])],S=!0)},p(t,e){2&e&&R!==(R=t[1]?`Produto: ${t[1].name}`:"Criando um Produto")&&x(n,R),4&e&&c.value!==t[2].name&&C(c,t[2].name),4&e&&C(d,t[2].description),4&e&&A.value!==t[2].price&&C(A,t[2].price),10&e&&U!==(U=t[3]?"...":t[1]?"Editar":"Criar")&&x(B,U),8&e&&(T.disabled=t[3]),8&e&&(k.disabled=t[3])},d(t){t&&p(e),t&&p(o),t&&p(i),S=!1,r(L)}}}function Mt(t){let e,n,r=t[0]&&Pt(t);return{c(){r&&r.c(),e=y()},m(t,o){r&&r.m(t,o),m(t,e,o),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&W(r,1)):(r=Pt(t),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(V(),Z(r,1,1,(()=>{r=null})),Q())},i(t){n||(W(r),n=!0)},o(t){Z(r),n=!1},d(t){r&&r.d(t),t&&p(e)}}}function St(t,e,n){let r,o,{show:i,item:s,subcategory_id:a}=e;function c(){n(0,i=!1)}return t.$$set=t=>{"show"in t&&n(0,i=t.show),"item"in t&&n(1,s=t.item),"subcategory_id"in t&&n(6,a=t.subcategory_id)},t.$$.update=()=>{if(1&t.$$.dirty&&i&&(n(3,r=!1),n(2,o={name:s?.name,description:s?.description,price:s?s.price_in_cents/100:void 0})),4&t.$$.dirty&&o?.price){n(2,o.price=String(o.price).replaceAll(",",".").replaceAll(/[^\d\.]/g,""),o);const t=o.price.split(".");t.length>1&&n(2,o.price=`${t[0]}.${t.slice(1).join("").slice(0,2)}`,o)}},[i,s,o,r,c,async function(){n(3,r=!0),n(2,o.price_in_cents=Math.round(100*o.price),o),s?await async function(t,e){const n=u(ht);await wt(`item/${t}`,"PUT",e);for(let r in n.categories)for(let o in n.categories[r].subcategories)for(let i in n.categories[r].subcategories[o].items)if(n.categories[r].subcategories[o].items[i].id==t){n.categories[r].subcategories[o].items[i]={...n.categories[r].subcategories[o].items[i],...e};break}ht.set(n)}(s.id,o):await async function(t,e){const n=u(ht),{data:r}=await wt(`item/${t}`,"POST",e);for(let e in n.categories){const o=n.categories[e].subcategories.findIndex((e=>e.id==t));if(-1!=o){n.categories[e].subcategories[o].items=[...n.categories[e].subcategories[o].items||[],r.item];break}}ht.set(n)}(a,o),c()},a,function(){o.name=this.value,n(2,o)},function(){o.description=this.value,n(2,o)},function(){o.price=this.value,n(2,o)}]}class Lt extends ot{constructor(t){super(),rt(this,t,St,Mt,i,{show:0,item:1,subcategory_id:6})}}function Rt(t){return t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s]/g,"")}function Ut(t){let e=String(t/100).replace(".",",");return t%100==0?e+=",00":t%10==0&&(e+="0"),e}function zt(t){let e,n,r,o,i,s,a,c,l,u,f,d,$,y,v,C=t[0].name+"";return s=new dt({props:{class:"blu",i:"edit",t:"Editar",action:t[8]}}),c=new dt({props:{class:"red",i:"delete",t:"Excluir",action:t[9]}}),u=new dt({props:{i:"keyboard_arrow_up",t:"Mover pra cima",action:t[10],disabled:0==t[3]}}),d=new dt({props:{i:"keyboard_arrow_down",t:"Mover pra baixo",action:t[11],disabled:t[3]==t[4]-1}}),y=new dt({props:{i:"close",t:"Cancelar",action:t[13]}}),{c(){e=h("p"),n=w("Produto: "),r=w(C),o=b(),i=h("div"),G(s.$$.fragment),a=b(),G(c.$$.fragment),l=b(),G(u.$$.fragment),f=b(),G(d.$$.fragment),$=b(),G(y.$$.fragment),E(e,"class","special svelte-rf44i4"),E(i,"class","btn-col")},m(t,p){m(t,e,p),g(e,n),g(e,r),m(t,o,p),m(t,i,p),tt(s,i,null),g(i,a),tt(c,i,null),g(i,l),tt(u,i,null),g(i,f),tt(d,i,null),g(i,$),tt(y,i,null),v=!0},p(t,e){(!v||1&e)&&C!==(C=t[0].name+"")&&x(r,C);const n={};8&e&&(n.disabled=0==t[3]),u.$set(n);const o={};24&e&&(o.disabled=t[3]==t[4]-1),d.$set(o);const i={};2&e&&(i.action=t[13]),y.$set(i)},i(t){v||(W(s.$$.fragment,t),W(c.$$.fragment,t),W(u.$$.fragment,t),W(d.$$.fragment,t),W(y.$$.fragment,t),v=!0)},o(t){Z(s.$$.fragment,t),Z(c.$$.fragment,t),Z(u.$$.fragment,t),Z(d.$$.fragment,t),Z(y.$$.fragment,t),v=!1},d(t){t&&p(e),t&&p(o),t&&p(i),et(s),et(c),et(u),et(d),et(y)}}}function jt(t){let e,n;return e=new At({props:{show:!0,$$slots:{default:[qt]},$$scope:{ctx:t}}}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function qt(t){let e;return{c(){e=w("Excluindo...")},m(t,n){m(t,e,n)},d(t){t&&p(e)}}}function Dt(t){let e,n;return e=new At({props:{show:!0,$$slots:{default:[Ft]},$$scope:{ctx:t}}}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Ft(t){let e;return{c(){e=w("Movendo...")},m(t,n){m(t,e,n)},d(t){t&&p(e)}}}function Ht(t){let e,n,r,o,i,s,a,c,l,u,f,d,$,v,E,C,_,N,A,I,T,B,P,k=t[0].name+"",M=(t[0].description||"Sem descrição")+"",S=Ut(t[0].price_in_cents)+"";function R(e){t[14](e)}$=new dt({props:{class:"blu",i:"edit",action:t[7]}});let U={$$slots:{default:[zt]},$$scope:{ctx:t}};function z(e){t[15](e)}void 0!==t[1]&&(U.show=t[1]),E=new At({props:U}),L.push((()=>X(E,"show",R)));let j={item:t[0],subcategory_id:t[0].subcategory_id};void 0!==t[2]&&(j.show=t[2]),N=new Lt({props:j}),L.push((()=>X(N,"show",z)));let q=t[5]&&jt(t),F=t[6]&&Dt(t);return{c(){e=h("tr"),n=h("td"),r=w(k),o=b(),i=h("td"),s=w(M),a=b(),c=h("td"),l=w("R$ "),u=w(S),f=b(),d=h("td"),G($.$$.fragment),v=b(),G(E.$$.fragment),_=b(),G(N.$$.fragment),I=b(),q&&q.c(),T=b(),F&&F.c(),B=y()},m(t,p){m(t,e,p),g(e,n),g(n,r),g(e,o),g(e,i),g(i,s),g(e,a),g(e,c),g(c,l),g(c,u),g(e,f),g(e,d),tt($,d,null),m(t,v,p),tt(E,t,p),m(t,_,p),tt(N,t,p),m(t,I,p),q&&q.m(t,p),m(t,T,p),F&&F.m(t,p),m(t,B,p),P=!0},p(t,[e]){(!P||1&e)&&k!==(k=t[0].name+"")&&x(r,k),(!P||1&e)&&M!==(M=(t[0].description||"Sem descrição")+"")&&x(s,M),(!P||1&e)&&S!==(S=Ut(t[0].price_in_cents)+"")&&x(u,S);const n={};131099&e&&(n.$$scope={dirty:e,ctx:t}),!C&&2&e&&(C=!0,n.show=t[1],D((()=>C=!1))),E.$set(n);const o={};1&e&&(o.item=t[0]),1&e&&(o.subcategory_id=t[0].subcategory_id),!A&&4&e&&(A=!0,o.show=t[2],D((()=>A=!1))),N.$set(o),t[5]?q?32&e&&W(q,1):(q=jt(t),q.c(),W(q,1),q.m(T.parentNode,T)):q&&(V(),Z(q,1,1,(()=>{q=null})),Q()),t[6]?F?64&e&&W(F,1):(F=Dt(t),F.c(),W(F,1),F.m(B.parentNode,B)):F&&(V(),Z(F,1,1,(()=>{F=null})),Q())},i(t){P||(W($.$$.fragment,t),W(E.$$.fragment,t),W(N.$$.fragment,t),W(q),W(F),P=!0)},o(t){Z($.$$.fragment,t),Z(E.$$.fragment,t),Z(N.$$.fragment,t),Z(q),Z(F),P=!1},d(t){t&&p(e),et($),t&&p(v),et(E,t),t&&p(_),et(N,t),t&&p(I),q&&q.d(t),t&&p(T),F&&F.d(t),t&&p(B)}}}function Jt(t,e,n){let r;f(t,ht,(t=>n(12,r=t)));let o,i,s,a,c,l,{item:d}=e;return t.$$set=t=>{"item"in t&&n(0,d=t.item)},t.$$.update=()=>{4096&t.$$.dirty&&r&&function(){const t=r.categories.find((t=>t.subcategories.find((t=>t.id==d.subcategory_id)))),e=t?.subcategories.find((t=>t.id==d.subcategory_id)),o=e?.items;n(4,a=o?.length),n(3,s=o?.findIndex((t=>t.id==d.id)))}()},[d,o,i,s,a,c,l,function(){n(1,o=1)},function(){n(1,o=0),n(2,i=1)},async function(){n(1,o=0),confirm(`Certeza que quer excluir o produto ${d.name}?`)&&(n(5,c=!0),await async function(t){const e=u(ht);await wt(`item/${t}`,"DELETE");for(let n in e.categories)for(let r in e.categories[n].subcategories)e.categories[n].subcategories[r].items=e.categories[n].subcategories[r].items.filter((e=>e.id!=t));ht.set(e)}(d.id),n(5,c=!1))},async function(){n(1,o=0),n(6,l=!0),await Bt(d.id),n(6,l=!1)},async function(){n(1,o=0),n(6,l=!0),await async function(t){const e=u(ht);for(let n in e.categories){const r=e.categories[n].subcategories.findIndex((e=>e.items.find((e=>e.id==t))));if(-1==r)continue;const o=e.categories[n].subcategories[r].items.findIndex((e=>e.id==t));await Bt(e.categories[n].subcategories[r].items[o+1].id);break}}(d.id),n(6,l=!1)},r,t=>n(1,o=!1),function(t){o=t,n(1,o)},function(t){i=t,n(2,i)}]}class Ot extends ot{constructor(t){super(),rt(this,t,Jt,Ht,i,{item:0})}}function Kt(t,e,n){const r=t.slice();return r[6]=e[n],r}function Yt(t){let e,n;return e=new Ot({props:{item:t[6]}}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.item=t[6]),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Vt(t){let e,n,r,o,i,s,a,c,l,u,f,d,y,v,C,_=t[0].name+"";l=new dt({props:{class:"grn",i:"add",action:t[2]}});let N=t[0].items||[],A=[];for(let e=0;e<N.length;e+=1)A[e]=Yt(Kt(t,N,e));const I=t=>Z(A[t],1,1,(()=>{A[t]=null}));function T(e){t[4](e)}let B={subcategory_id:t[0].id};return void 0!==t[1]&&(B.show=t[1]),y=new Lt({props:B}),L.push((()=>X(y,"show",T))),{c(){e=h("table"),n=h("thead"),r=h("tr"),o=h("td"),i=h("h2"),s=w(_),a=b(),c=h("td"),G(l.$$.fragment),u=b(),f=h("tbody");for(let t=0;t<A.length;t+=1)A[t].c();d=b(),G(y.$$.fragment),E(o,"colspan","3"),E(o,"class","svelte-s0l2tk"),E(c,"class","svelte-s0l2tk"),E(n,"class","svelte-s0l2tk"),E(e,"class","svelte-s0l2tk")},m(t,p){m(t,e,p),g(e,n),g(n,r),g(r,o),g(o,i),g(i,s),g(r,a),g(r,c),tt(l,c,null),g(e,u),g(e,f);for(let t=0;t<A.length;t+=1)A[t]&&A[t].m(f,null);m(t,d,p),tt(y,t,p),C=!0},p(t,[e]){if((!C||1&e)&&_!==(_=t[0].name+"")&&x(s,_),1&e){let n;for(N=t[0].items||[],n=0;n<N.length;n+=1){const r=Kt(t,N,n);A[n]?(A[n].p(r,e),W(A[n],1)):(A[n]=Yt(r),A[n].c(),W(A[n],1),A[n].m(f,null))}for(V(),n=N.length;n<A.length;n+=1)I(n);Q()}const n={};1&e&&(n.subcategory_id=t[0].id),!v&&2&e&&(v=!0,n.show=t[1],D((()=>v=!1))),y.$set(n)},i(t){if(!C){W(l.$$.fragment,t);for(let t=0;t<N.length;t+=1)W(A[t]);W(y.$$.fragment,t),C=!0}},o(t){Z(l.$$.fragment,t),A=A.filter(Boolean);for(let t=0;t<A.length;t+=1)Z(A[t]);Z(y.$$.fragment,t),C=!1},d(t){t&&p(e),et(l),$(A,t),t&&p(d),et(y,t)}}}function Qt(t,e,n){let r;f(t,ht,(t=>n(3,r=t)));let o,{subcategory:i}=e;return t.$$set=t=>{"subcategory"in t&&n(0,i=t.subcategory)},t.$$.update=()=>{8&t.$$.dirty&&function(t){const e=t.categories.find((t=>t.id==i.category_id)).subcategories.find((t=>t.id==i.id));n(0,i.items=e.items,i)}(r)},[i,o,function(){n(1,o=1)},r,function(t){o=t,n(1,o)}]}class Wt extends ot{constructor(t){super(),rt(this,t,Qt,Vt,i,{subcategory:0})}}function Zt(t,e,n){const r=t.slice();return r[4]=e[n],r}function Xt(t,e,n){const r=t.slice();return r[6]=e[n],r}function Gt(t,e,n){const r=t.slice();return r[6]=e[n],r}function te(t,e,n){const r=t.slice();return r[4]=e[n],r}function ee(t){let e,n,r,o,i=t[4].name+"";return{c(){e=h("option"),n=w(i),r=b(),e.__value=o=t[4].id,e.value=e.__value},m(t,o){m(t,e,o),g(e,n),g(e,r)},p(t,r){8&r&&i!==(i=t[4].name+"")&&x(n,i),8&r&&o!==(o=t[4].id)&&(e.__value=o,e.value=e.__value)},d(t){t&&p(e)}}}function ne(t){let e,n,r,o,i=t[6].name+"";return{c(){e=h("option"),n=w(i),r=b(),e.__value=o=t[6].id,e.value=e.__value},m(t,o){m(t,e,o),g(e,n),g(e,r)},p(t,r){16&r&&i!==(i=t[6].name+"")&&x(n,i),16&r&&o!==(o=t[6].id)&&(e.__value=o,e.value=e.__value)},d(t){t&&p(e)}}}function re(t){let e,n;return e=new Wt({props:{subcategory:t[6]}}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};32&n&&(r.subcategory=t[6]),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function oe(t){let e,n,r,o,i,s,a,c=t[4].name+"",l=t[4].subcategories,u=[];for(let e=0;e<l.length;e+=1)u[e]=re(Xt(t,l,e));const f=t=>Z(u[t],1,1,(()=>{u[t]=null}));return{c(){e=h("div"),n=b(),r=h("h1"),o=w(c),i=b();for(let t=0;t<u.length;t+=1)u[t].c();s=y(),E(e,"class","hr")},m(t,c){m(t,e,c),m(t,n,c),m(t,r,c),g(r,o),m(t,i,c);for(let e=0;e<u.length;e+=1)u[e]&&u[e].m(t,c);m(t,s,c),a=!0},p(t,e){if((!a||32&e)&&c!==(c=t[4].name+"")&&x(o,c),32&e){let n;for(l=t[4].subcategories,n=0;n<l.length;n+=1){const r=Xt(t,l,n);u[n]?(u[n].p(r,e),W(u[n],1)):(u[n]=re(r),u[n].c(),W(u[n],1),u[n].m(s.parentNode,s))}for(V(),n=l.length;n<u.length;n+=1)f(n);Q()}},i(t){if(!a){for(let t=0;t<l.length;t+=1)W(u[t]);a=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)Z(u[t]);a=!1},d(t){t&&p(e),t&&p(n),t&&p(r),t&&p(i),$(u,t),t&&p(s)}}}function ie(e){let n,r,o,i,s;return{c(){n=h("p"),r=w("Nada encontrado para esses filtros.\n    \n    "),o=h("span"),o.textContent="Limpar filtros",E(o,"class","underline cp")},m(t,a){m(t,n,a),g(n,r),g(n,o),i||(s=v(o,"click",e[7]),i=!0)},p:t,d(t){t&&p(n),i=!1,s()}}}function se(t){let e,n,o,i,s,a,c,l,u,f,d,x,_,A,I,T,B,P=t[3].categories||[],k=[];for(let e=0;e<P.length;e+=1)k[e]=ee(te(t,P,e));let M=t[4]?.subcategories||[],S=[];for(let e=0;e<M.length;e+=1)S[e]=ne(Gt(t,M,e));let L=t[5].categories,R=[];for(let e=0;e<L.length;e+=1)R[e]=oe(Zt(t,L,e));const U=t=>Z(R[t],1,1,(()=>{R[t]=null}));let z=!t[5].categories.length&&(t[2]||t[0]||t[1])&&ie(t);return{c(){e=h("div"),n=h("input"),o=b(),i=h("select"),s=h("option"),a=w("Todas categorias ");for(let t=0;t<k.length;t+=1)k[t].c();c=b(),l=h("select"),u=h("option"),f=w("Todas subcategorias ");for(let t=0;t<S.length;t+=1)S[t].c();x=b();for(let t=0;t<R.length;t+=1)R[t].c();_=b(),z&&z.c(),A=y(),E(n,"placeholder","Pesquisar"),E(n,"class","svelte-1nqktdd"),s.__value=void 0,s.value=s.__value,E(i,"class","svelte-1nqktdd"),void 0===t[0]&&q((()=>t[9].call(i))),u.__value=void 0,u.value=u.__value,l.disabled=d=!t[0],E(l,"class","svelte-1nqktdd"),void 0===t[1]&&q((()=>t[10].call(l))),E(e,"class","row svelte-1nqktdd")},m(r,d){m(r,e,d),g(e,n),C(n,t[2]),g(e,o),g(e,i),g(i,s),g(s,a);for(let t=0;t<k.length;t+=1)k[t]&&k[t].m(i,null);N(i,t[0],!0),g(e,c),g(e,l),g(l,u),g(u,f);for(let t=0;t<S.length;t+=1)S[t]&&S[t].m(l,null);N(l,t[1],!0),m(r,x,d);for(let t=0;t<R.length;t+=1)R[t]&&R[t].m(r,d);m(r,_,d),z&&z.m(r,d),m(r,A,d),I=!0,T||(B=[v(n,"input",t[8]),v(i,"change",t[9]),v(l,"change",t[10])],T=!0)},p(t,[e]){if(4&e&&n.value!==t[2]&&C(n,t[2]),8&e){let n;for(P=t[3].categories||[],n=0;n<P.length;n+=1){const r=te(t,P,n);k[n]?k[n].p(r,e):(k[n]=ee(r),k[n].c(),k[n].m(i,null))}for(;n<k.length;n+=1)k[n].d(1);k.length=P.length}if(9&e&&N(i,t[0]),16&e){let n;for(M=t[4]?.subcategories||[],n=0;n<M.length;n+=1){const r=Gt(t,M,n);S[n]?S[n].p(r,e):(S[n]=ne(r),S[n].c(),S[n].m(l,null))}for(;n<S.length;n+=1)S[n].d(1);S.length=M.length}if((!I||9&e&&d!==(d=!t[0]))&&(l.disabled=d),18&e&&N(l,t[1]),32&e){let n;for(L=t[5].categories,n=0;n<L.length;n+=1){const r=Zt(t,L,n);R[n]?(R[n].p(r,e),W(R[n],1)):(R[n]=oe(r),R[n].c(),W(R[n],1),R[n].m(_.parentNode,_))}for(V(),n=L.length;n<R.length;n+=1)U(n);Q()}!t[5].categories.length&&(t[2]||t[0]||t[1])?z?z.p(t,e):(z=ie(t),z.c(),z.m(A.parentNode,A)):z&&(z.d(1),z=null)},i(t){if(!I){for(let t=0;t<L.length;t+=1)W(R[t]);I=!0}},o(t){R=R.filter(Boolean);for(let t=0;t<R.length;t+=1)Z(R[t]);I=!1},d(t){t&&p(e),$(k,t),$(S,t),t&&p(x),$(R,t),t&&p(_),z&&z.d(t),t&&p(A),T=!1,r(B)}}}function ae(t,e,n){let r;f(t,ht,(t=>n(3,r=t)));let o,i,s,a,c,l="";return t.$$.update=()=>{7&t.$$.dirty&&function(t,e,o){if(r.categories.find((e=>e.id==t))?.subcategories.find((t=>t.id==e))||(e=void 0),n(5,c=JSON.parse(JSON.stringify(r))),t&&n(5,c.categories=c.categories.filter((e=>e.id==t)),c),e&&n(5,c.categories=c.categories.map((n=>n.id!=t?n:{...n,subcategories:n.subcategories.filter((t=>t.id==e))})),c),o){function i(t,e){for(let n of e)if(!t.includes(n))return 0;return 1}c.categories.forEach((t=>{t.subcategories.forEach((t=>{t.items=t.items.filter((t=>i(Rt(t.name.replaceAll(" ","")),Rt(o).split(" "))))})),t.subcategories=t.subcategories.filter((t=>t.items.length))})),n(5,c.categories=c.categories.filter((t=>t.subcategories.length)),c)}}(o,i,l),9&t.$$.dirty&&n(4,s=r.categories.find((t=>t.id==o))),18&t.$$.dirty&&n(6,a=s?.subcategories.find((t=>t.id==i)))},[o,i,l,r,s,c,a,function(){n(2,l=""),n(0,o=void 0),n(1,i=void 0)},function(){l=this.value,n(2,l)},function(){o=A(this),n(0,o)},function(){i=A(this),n(1,i),n(4,s),n(3,r),n(0,o)}]}class ce extends ot{constructor(t){super(),rt(this,t,ae,se,i,{})}}function le(t){let e,n,o,i,s,a,c,l,u,f,d,$,y,N,A,I=t[1]?`Categoria: ${t[1].name}`:"Criando uma categoria",T=t[2]?"...":t[1]?"Editar":"Criar";return{c(){e=h("h2"),n=w(I),o=b(),i=h("form"),s=h("label"),a=w("Nome: "),c=h("input"),l=b(),u=h("button"),f=w(T),d=b(),$=h("button"),y=w("Cancelar"),E(e,"class","special tac"),c.required=!0,E(s,"class","svelte-1mya8io"),E(u,"class","grn"),u.disabled=t[2],E($,"class","red"),_($,"margin-top","10px"),$.disabled=t[2]},m(r,p){m(r,e,p),g(e,n),m(r,o,p),m(r,i,p),g(i,s),g(s,a),g(s,c),C(c,t[3].name),g(i,l),g(i,u),g(u,f),g(i,d),g(i,$),g($,y),N||(A=[v(c,"input",t[6]),v(u,"click",t[5]),v($,"click",t[4])],N=!0)},p(t,e){2&e&&I!==(I=t[1]?`Categoria: ${t[1].name}`:"Criando uma categoria")&&x(n,I),8&e&&c.value!==t[3].name&&C(c,t[3].name),6&e&&T!==(T=t[2]?"...":t[1]?"Editar":"Criar")&&x(f,T),4&e&&(u.disabled=t[2]),4&e&&($.disabled=t[2])},d(t){t&&p(e),t&&p(o),t&&p(i),N=!1,r(A)}}}function ue(t){let e,n;return e=new At({props:{show:t[0],$$slots:{default:[le]},$$scope:{ctx:t}}}),e.$on("close",t[4]),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.show=t[0]),270&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function fe(t,e,n){let r,o,{show:i,category:s}=e;function a(){n(0,i=!1)}return t.$$set=t=>{"show"in t&&n(0,i=t.show),"category"in t&&n(1,s=t.category)},t.$$.update=()=>{1&t.$$.dirty&&i&&(n(2,r=!1),n(3,o={name:s?.name}))},[i,s,r,o,a,async function(){n(2,r=!0),s?await async function(t,e){const n=u(ht);await wt(`category/${t}`,"PUT",e);for(let r in n.categories)n.categories[r].id==t&&(n.categories[r]={...n.categories[r],...e});ht.set(n)}(s.id,o):await async function(t){const e=u(ht),{data:n}=await wt(`category/${e.id}`,"POST",t);e.categories=[...e.categories||[],n.category],ht.set(e)}(o),a()},function(){o.name=this.value,n(3,o)}]}class de extends ot{constructor(t){super(),rt(this,t,fe,ue,i,{show:0,category:1})}}function ge(t){let e,n;return e=new At({props:{show:t[0],$$slots:{default:[me]},$$scope:{ctx:t}}}),e.$on("close",t[4]),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.show=t[0]),526&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function me(t){let e,n,o,i,s,a,c,l,u,f,d,$,y,N,A,I=t[1]?`Subcategoria: ${t[1].name}`:"Criando uma Subcategoria",T=t[2]?"...":t[1]?"Editar":"Criar";return{c(){e=h("h2"),n=w(I),o=b(),i=h("form"),s=h("label"),a=w("Nome: "),c=h("input"),l=b(),u=h("button"),f=w(T),d=b(),$=h("button"),y=w("Cancelar"),E(e,"class","special tac"),c.required=!0,E(s,"class","svelte-1mya8io"),E(u,"class","grn"),u.disabled=t[2],E($,"class","red"),_($,"margin-top","10px"),$.disabled=t[2]},m(r,p){m(r,e,p),g(e,n),m(r,o,p),m(r,i,p),g(i,s),g(s,a),g(s,c),C(c,t[3].name),g(i,l),g(i,u),g(u,f),g(i,d),g(i,$),g($,y),N||(A=[v(c,"input",t[7]),v(u,"click",t[5]),v($,"click",t[4])],N=!0)},p(t,e){2&e&&I!==(I=t[1]?`Subcategoria: ${t[1].name}`:"Criando uma Subcategoria")&&x(n,I),8&e&&c.value!==t[3].name&&C(c,t[3].name),6&e&&T!==(T=t[2]?"...":t[1]?"Editar":"Criar")&&x(f,T),4&e&&(u.disabled=t[2]),4&e&&($.disabled=t[2])},d(t){t&&p(e),t&&p(o),t&&p(i),N=!1,r(A)}}}function pe(t){let e,n,r=t[0]&&ge(t);return{c(){r&&r.c(),e=y()},m(t,o){r&&r.m(t,o),m(t,e,o),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&W(r,1)):(r=ge(t),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(V(),Z(r,1,1,(()=>{r=null})),Q())},i(t){n||(W(r),n=!0)},o(t){Z(r),n=!1},d(t){r&&r.d(t),t&&p(e)}}}function $e(t,e,n){let r,o,{show:i,subcategory:s,category_id:a}=e;function c(){n(0,i=!1)}return t.$$set=t=>{"show"in t&&n(0,i=t.show),"subcategory"in t&&n(1,s=t.subcategory),"category_id"in t&&n(6,a=t.category_id)},t.$$.update=()=>{1&t.$$.dirty&&i&&(n(2,r=!1),n(3,o={name:s?.name}))},[i,s,r,o,c,async function(){n(2,r=!0),s?await async function(t,e){const n=u(ht);await wt(`subcategory/${t}`,"PUT",e);for(let r in n.categories){const o=n.categories[r].subcategories.findIndex((e=>e.id==t));if(-1!=o){n.categories[r].subcategories[o]={...n.categories[r].subcategories[o],...e};break}}ht.set(n)}(s.id,o):await async function(t,e){const n=u(ht),{data:r}=await wt(`subcategory/${t}`,"POST",e);for(let e in n.categories)n.categories[e].id==t&&(n.categories[e].subcategories=[...n.categories[e].subcategories||[],r.subcategory]);ht.set(n)}(a,o),c()},a,function(){o.name=this.value,n(3,o)}]}class he extends ot{constructor(t){super(),rt(this,t,$e,pe,i,{show:0,subcategory:1,category_id:6})}}function we(t){let e,n,r,o,i,s,a,c,l,u,f,d=t[0].name+"";return s=new dt({props:{class:"blu",i:"edit",t:"Editar",action:t[8]}}),c=new dt({props:{class:"red",i:"delete",t:"Excluir",action:t[9]}}),u=new dt({props:{i:"close",t:"Cancelar",action:t[13]}}),{c(){e=h("p"),n=w("Subcategoria: "),r=w(d),o=b(),i=h("div"),G(s.$$.fragment),a=b(),G(c.$$.fragment),l=b(),G(u.$$.fragment),E(e,"class","special svelte-huuhgf"),E(i,"class","btn-col")},m(t,d){m(t,e,d),g(e,n),g(e,r),m(t,o,d),m(t,i,d),tt(s,i,null),g(i,a),tt(c,i,null),g(i,l),tt(u,i,null),f=!0},p(t,e){(!f||1&e)&&d!==(d=t[0].name+"")&&x(r,d);const n={};4&e&&(n.action=t[13]),u.$set(n)},i(t){f||(W(s.$$.fragment,t),W(c.$$.fragment,t),W(u.$$.fragment,t),f=!0)},o(t){Z(s.$$.fragment,t),Z(c.$$.fragment,t),Z(u.$$.fragment,t),f=!1},d(t){t&&p(e),t&&p(o),t&&p(i),et(s),et(c),et(u)}}}function be(t){let e,n;return e=new At({props:{show:!0,$$slots:{default:[ye]},$$scope:{ctx:t}}}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function ye(t){let e;return{c(){e=w("Excluindo...")},m(t,n){m(t,e,n)},d(t){t&&p(e)}}}function ve(t){let e,n;return e=new At({props:{show:!0,$$slots:{default:[Ee]},$$scope:{ctx:t}}}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Ee(t){let e;return{c(){e=w("Movendo...")},m(t,n){m(t,e,n)},d(t){t&&p(e)}}}function xe(t){let e,n,r,o,i,s,a,c,l,u,f,d,$,C,_,N,A,I,T,B,P,k=(t[0].name||"Sem nome")+"";function M(e){t[14](e)}i=new dt({props:{i:"settings",action:t[7]}}),a=new dt({props:{i:"keyboard_arrow_up",action:t[10],disabled:0==t[4]}}),l=new dt({props:{i:"keyboard_arrow_down",action:t[11],disabled:t[4]==t[3].subcategories.length-1}});let S={$$slots:{default:[we]},$$scope:{ctx:t}};function R(e){t[15](e)}void 0!==t[2]&&(S.show=t[2]),f=new At({props:S}),L.push((()=>X(f,"show",M)));let U={subcategory:t[0],category_id:t[0].category_id};void 0!==t[1]&&(U.show=t[1]),C=new he({props:U}),L.push((()=>X(C,"show",R)));let z=t[5]&&be(t),j=t[6]&&ve(t);return{c(){e=h("li"),n=h("p"),r=w(k),o=b(),G(i.$$.fragment),s=b(),G(a.$$.fragment),c=b(),G(l.$$.fragment),u=b(),G(f.$$.fragment),$=b(),G(C.$$.fragment),N=b(),z&&z.c(),A=b(),j&&j.c(),I=y(),E(n,"class","cp fg"),E(e,"class","row svelte-huuhgf")},m(d,p){m(d,e,p),g(e,n),g(n,r),g(e,o),tt(i,e,null),g(e,s),tt(a,e,null),g(e,c),tt(l,e,null),m(d,u,p),tt(f,d,p),m(d,$,p),tt(C,d,p),m(d,N,p),z&&z.m(d,p),m(d,A,p),j&&j.m(d,p),m(d,I,p),T=!0,B||(P=v(n,"click",t[7]),B=!0)},p(t,[e]){(!T||1&e)&&k!==(k=(t[0].name||"Sem nome")+"")&&x(r,k);const n={};16&e&&(n.disabled=0==t[4]),a.$set(n);const o={};24&e&&(o.disabled=t[4]==t[3].subcategories.length-1),l.$set(o);const i={};131077&e&&(i.$$scope={dirty:e,ctx:t}),!d&&4&e&&(d=!0,i.show=t[2],D((()=>d=!1))),f.$set(i);const s={};1&e&&(s.subcategory=t[0]),1&e&&(s.category_id=t[0].category_id),!_&&2&e&&(_=!0,s.show=t[1],D((()=>_=!1))),C.$set(s),t[5]?z?32&e&&W(z,1):(z=be(t),z.c(),W(z,1),z.m(A.parentNode,A)):z&&(V(),Z(z,1,1,(()=>{z=null})),Q()),t[6]?j?64&e&&W(j,1):(j=ve(t),j.c(),W(j,1),j.m(I.parentNode,I)):j&&(V(),Z(j,1,1,(()=>{j=null})),Q())},i(t){T||(W(i.$$.fragment,t),W(a.$$.fragment,t),W(l.$$.fragment,t),W(f.$$.fragment,t),W(C.$$.fragment,t),W(z),W(j),T=!0)},o(t){Z(i.$$.fragment,t),Z(a.$$.fragment,t),Z(l.$$.fragment,t),Z(f.$$.fragment,t),Z(C.$$.fragment,t),Z(z),Z(j),T=!1},d(t){t&&p(e),et(i),et(a),et(l),t&&p(u),et(f,t),t&&p($),et(C,t),t&&p(N),z&&z.d(t),t&&p(A),j&&j.d(t),t&&p(I),B=!1,P()}}}function Ce(t,e,n){let r;f(t,ht,(t=>n(12,r=t)));let o,i,s,a,c,l,{subcategory:d}=e;return t.$$set=t=>{"subcategory"in t&&n(0,d=t.subcategory)},t.$$.update=()=>{4096&t.$$.dirty&&r&&(n(3,s=r.categories.find((t=>t.subcategories?.find((t=>t.id==d.id))))),n(4,a=s.subcategories.findIndex((t=>t.id==d.id))))},[d,o,i,s,a,c,l,function(){n(2,i=1)},function(){n(2,i=0),n(1,o=1)},async function(){n(2,i=0),confirm(`Certeza que quer excluir a subcategoria ${d.name}?`)&&(n(5,c=!0),await async function(t){const e=u(ht);await wt(`subcategory/${t}`,"DELETE");for(let n in e.categories)e.categories[n].subcategories=e.categories[n].subcategories.filter((e=>e.id!=t));ht.set(e)}(d.id),n(5,c=!1))},async function(){n(6,l=!0),await Tt(d.id),n(6,l=!1)},async function(){n(6,l=!0),await async function(t){const e=u(ht);for(let n in e.categories){const r=e.categories[n].subcategories.findIndex((e=>e.id==t));if(-1!=r){await Tt(e.categories[n].subcategories[r+1].id);break}}}(d.id),n(6,l=!1)},r,t=>n(2,i=!1),function(t){i=t,n(2,i)},function(t){o=t,n(1,o)}]}class _e extends ot{constructor(t){super(),rt(this,t,Ce,xe,i,{subcategory:0})}}function Ne(t,e,n){const r=t.slice();return r[18]=e[n],r}function Ae(t){let e,n;return e=new _e({props:{subcategory:t[18]}}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.subcategory=t[18]),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Ie(t){let e,n,r,o,i,s,a,c,l,u,f,d,$,y=t[0].name+"";return s=new dt({props:{class:"grn",i:"add",t:"Subcategoria",action:t[8]}}),c=new dt({props:{class:"blu",i:"edit",t:"Editar",action:t[9]}}),u=new dt({props:{class:"red",i:"delete",t:"Excluir",action:t[11]}}),d=new dt({props:{i:"close",t:"Cancelar",action:t[14]}}),{c(){e=h("p"),n=w("Categoria: "),r=w(y),o=b(),i=h("div"),G(s.$$.fragment),a=b(),G(c.$$.fragment),l=b(),G(u.$$.fragment),f=b(),G(d.$$.fragment),E(e,"class","special svelte-199o48f"),E(i,"class","btn-col")},m(t,p){m(t,e,p),g(e,n),g(e,r),m(t,o,p),m(t,i,p),tt(s,i,null),g(i,a),tt(c,i,null),g(i,l),tt(u,i,null),g(i,f),tt(d,i,null),$=!0},p(t,e){(!$||1&e)&&y!==(y=t[0].name+"")&&x(r,y);const n={};16&e&&(n.action=t[14]),d.$set(n)},i(t){$||(W(s.$$.fragment,t),W(c.$$.fragment,t),W(u.$$.fragment,t),W(d.$$.fragment,t),$=!0)},o(t){Z(s.$$.fragment,t),Z(c.$$.fragment,t),Z(u.$$.fragment,t),Z(d.$$.fragment,t),$=!1},d(t){t&&p(e),t&&p(o),t&&p(i),et(s),et(c),et(u),et(d)}}}function Te(t){let e,n;return e=new At({props:{show:!0,$$slots:{default:[Be]},$$scope:{ctx:t}}}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Be(t){let e;return{c(){e=w("Excluindo...")},m(t,n){m(t,e,n)},d(t){t&&p(e)}}}function Pe(t){let e,n;return e=new At({props:{show:!0,$$slots:{default:[ke]},$$scope:{ctx:t}}}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function ke(t){let e;return{c(){e=w("Movendo...")},m(t,n){m(t,e,n)},d(t){t&&p(e)}}}function Me(t){let e,n,r,o,i,s,a,c,l,u,f,d,v,C,_,N,A,I,T,B,P,k,M,S,R,U,z=t[0].name+"";a=new dt({props:{i:"settings",action:t[10]}}),l=new dt({props:{i:"keyboard_arrow_up",action:t[12],disabled:0==t[7]}}),f=new dt({props:{i:"keyboard_arrow_down",action:t[13],disabled:t[7]==t[1].categories.length-1}});let j=t[0].subcategories||[],q=[];for(let e=0;e<j.length;e+=1)q[e]=Ae(Ne(t,j,e));const F=t=>Z(q[t],1,1,(()=>{q[t]=null}));function H(e){t[15](e)}let J={$$slots:{default:[Ie]},$$scope:{ctx:t}};function O(e){t[16](e)}void 0!==t[4]&&(J.show=t[4]),_=new At({props:J}),L.push((()=>X(_,"show",H)));let K={category:t[0]};function Y(e){t[17](e)}void 0!==t[2]&&(K.show=t[2]),I=new de({props:K}),L.push((()=>X(I,"show",O)));let nt={category_id:t[0].id};void 0!==t[3]&&(nt.show=t[3]),P=new he({props:nt}),L.push((()=>X(P,"show",Y)));let rt=t[5]&&Te(t),ot=t[6]&&Pe(t);return{c(){e=h("div"),n=h("div"),r=h("h2"),o=w(z),i=b(),s=h("div"),G(a.$$.fragment),c=b(),G(l.$$.fragment),u=b(),G(f.$$.fragment),d=b(),v=h("ul");for(let t=0;t<q.length;t+=1)q[t].c();C=b(),G(_.$$.fragment),A=b(),G(I.$$.fragment),B=b(),G(P.$$.fragment),M=b(),rt&&rt.c(),S=b(),ot&&ot.c(),R=y(),E(s,"class","row jce"),E(n,"class","row toprow jcsb"),E(e,"class","category svelte-199o48f")},m(t,p){m(t,e,p),g(e,n),g(n,r),g(r,o),g(n,i),g(n,s),tt(a,s,null),g(s,c),tt(l,s,null),g(s,u),tt(f,s,null),g(e,d),g(e,v);for(let t=0;t<q.length;t+=1)q[t]&&q[t].m(v,null);m(t,C,p),tt(_,t,p),m(t,A,p),tt(I,t,p),m(t,B,p),tt(P,t,p),m(t,M,p),rt&&rt.m(t,p),m(t,S,p),ot&&ot.m(t,p),m(t,R,p),U=!0},p(t,[e]){(!U||1&e)&&z!==(z=t[0].name+"")&&x(o,z);const n={};128&e&&(n.disabled=0==t[7]),l.$set(n);const r={};if(130&e&&(r.disabled=t[7]==t[1].categories.length-1),f.$set(r),1&e){let n;for(j=t[0].subcategories||[],n=0;n<j.length;n+=1){const r=Ne(t,j,n);q[n]?(q[n].p(r,e),W(q[n],1)):(q[n]=Ae(r),q[n].c(),W(q[n],1),q[n].m(v,null))}for(V(),n=j.length;n<q.length;n+=1)F(n);Q()}const i={};2097169&e&&(i.$$scope={dirty:e,ctx:t}),!N&&16&e&&(N=!0,i.show=t[4],D((()=>N=!1))),_.$set(i);const s={};1&e&&(s.category=t[0]),!T&&4&e&&(T=!0,s.show=t[2],D((()=>T=!1))),I.$set(s);const a={};1&e&&(a.category_id=t[0].id),!k&&8&e&&(k=!0,a.show=t[3],D((()=>k=!1))),P.$set(a),t[5]?rt?32&e&&W(rt,1):(rt=Te(t),rt.c(),W(rt,1),rt.m(S.parentNode,S)):rt&&(V(),Z(rt,1,1,(()=>{rt=null})),Q()),t[6]?ot?64&e&&W(ot,1):(ot=Pe(t),ot.c(),W(ot,1),ot.m(R.parentNode,R)):ot&&(V(),Z(ot,1,1,(()=>{ot=null})),Q())},i(t){if(!U){W(a.$$.fragment,t),W(l.$$.fragment,t),W(f.$$.fragment,t);for(let t=0;t<j.length;t+=1)W(q[t]);W(_.$$.fragment,t),W(I.$$.fragment,t),W(P.$$.fragment,t),W(rt),W(ot),U=!0}},o(t){Z(a.$$.fragment,t),Z(l.$$.fragment,t),Z(f.$$.fragment,t),q=q.filter(Boolean);for(let t=0;t<q.length;t+=1)Z(q[t]);Z(_.$$.fragment,t),Z(I.$$.fragment,t),Z(P.$$.fragment,t),Z(rt),Z(ot),U=!1},d(t){t&&p(e),et(a),et(l),et(f),$(q,t),t&&p(C),et(_,t),t&&p(A),et(I,t),t&&p(B),et(P,t),t&&p(M),rt&&rt.d(t),t&&p(S),ot&&ot.d(t),t&&p(R)}}}function Se(t,e,n){let r;f(t,ht,(t=>n(1,r=t)));let o,i,s,a,c,l,{category:d}=e;return t.$$set=t=>{"category"in t&&n(0,d=t.category)},t.$$.update=()=>{3&t.$$.dirty&&n(7,l=r?.categories.findIndex((t=>t.id==d.id)))},[d,r,o,i,s,a,c,l,function(){n(4,s=0),n(3,i=1)},function(){n(4,s=0),n(2,o=1)},function(){n(4,s=1)},async function(){n(4,s=0),confirm(`Certeza que quer excluir a categoria ${d.name}?`)&&(n(5,a=!0),await async function(t){const e=u(ht);await wt(`category/${t}`,"DELETE"),e.categories=e.categories.filter((e=>e.id!=t)),ht.set(e)}(d.id),n(5,a=!1))},async function(){n(6,c=!0),await It(d.id),n(6,c=!1)},async function(){n(6,c=!0),await async function(t){const e=u(ht),n=e.categories.findIndex((e=>e.id==t));await It(e.categories[n+1].id)}(d.id),n(6,c=!1)},t=>n(4,s=!1),function(t){s=t,n(4,s)},function(t){o=t,n(2,o)},function(t){i=t,n(3,i)}]}class Le extends ot{constructor(t){super(),rt(this,t,Se,Me,i,{category:0})}}function Re(t){let e,n;return e=new At({props:{show:t[0],$$slots:{default:[Ue]},$$scope:{ctx:t}}}),e.$on("close",t[3]),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.show=t[0]),2054&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Ue(t){let e,n,o,i,s,a,c,l,u,f,d,$,y,N,A,I,T,B,P,k,M,S,L,R,U,z,j=t[1]?"...":"Editar";return{c(){e=h("h2"),e.textContent="Editando",n=b(),o=h("form"),i=h("label"),s=w("Nome:     "),a=h("input"),c=b(),l=h("label"),u=w("Telefone: "),f=h("input"),d=b(),$=h("label"),y=w("Whatsapp: "),N=h("input"),A=b(),I=h("label"),T=w("Endereço: "),B=h("input"),P=b(),k=h("button"),M=w(j),S=b(),L=h("button"),R=w("Cancelar"),a.required=!0,E(i,"class","svelte-1mya8io"),E(l,"class","svelte-1mya8io"),E($,"class","svelte-1mya8io"),E(I,"class","svelte-1mya8io"),E(k,"class","grn"),k.disabled=t[1],E(L,"class","red"),_(L,"margin-top","10px"),L.disabled=t[1]},m(r,p){m(r,e,p),m(r,n,p),m(r,o,p),g(o,i),g(i,s),g(i,a),C(a,t[2].name),g(o,c),g(o,l),g(l,u),g(l,f),C(f,t[2].phone),g(o,d),g(o,$),g($,y),g($,N),C(N,t[2].whatsapp),g(o,A),g(o,I),g(I,T),g(I,B),C(B,t[2].address),g(o,P),g(o,k),g(k,M),g(o,S),g(o,L),g(L,R),U||(z=[v(a,"input",t[5]),v(f,"input",t[6]),v(N,"input",t[7]),v(B,"input",t[8]),v(k,"click",t[4]),v(L,"click",t[3])],U=!0)},p(t,e){4&e&&a.value!==t[2].name&&C(a,t[2].name),4&e&&f.value!==t[2].phone&&C(f,t[2].phone),4&e&&N.value!==t[2].whatsapp&&C(N,t[2].whatsapp),4&e&&B.value!==t[2].address&&C(B,t[2].address),2&e&&j!==(j=t[1]?"...":"Editar")&&x(M,j),2&e&&(k.disabled=t[1]),2&e&&(L.disabled=t[1])},d(t){t&&p(e),t&&p(n),t&&p(o),U=!1,r(z)}}}function ze(t){let e,n,r=t[0]&&Re(t);return{c(){r&&r.c(),e=y()},m(t,o){r&&r.m(t,o),m(t,e,o),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&W(r,1)):(r=Re(t),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(V(),Z(r,1,1,(()=>{r=null})),Q())},i(t){n||(W(r),n=!0)},o(t){Z(r),n=!1},d(t){r&&r.d(t),t&&p(e)}}}function je(t,e,n){let r;f(t,ht,(t=>n(9,r=t)));let o,i,{show:s}=e;function a(){n(0,s=!1)}return t.$$set=t=>{"show"in t&&n(0,s=t.show)},t.$$.update=()=>{1&t.$$.dirty&&s&&(n(1,o=!1),n(2,i={name:r.name,phone:r.phone,whatsapp:r.whatsapp,address:r.address}))},[s,o,i,a,async function(){n(1,o=!0),await async function(t){let e=u(ht);await wt(`menu/${e.id}`,"PUT",t),e={...e,...t},ht.set(e)}(i),a()},function(){i.name=this.value,n(2,i)},function(){i.phone=this.value,n(2,i)},function(){i.whatsapp=this.value,n(2,i)},function(){i.address=this.value,n(2,i)}]}class qe extends ot{constructor(t){super(),rt(this,t,je,ze,i,{show:0})}}var De={},Fe={},He={};let Je;const Oe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];He.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},He.getSymbolTotalCodewords=function(t){return Oe[t]},He.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},He.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');Je=t},He.isKanjiModeEnabled=function(){return void 0!==Je},He.toSJIS=function(t){return Je(t)};var Ke,Ye={};function Ve(){this.buffer=[],this.length=0}(Ke=Ye).L={bit:1},Ke.M={bit:0},Ke.Q={bit:3},Ke.H={bit:2},Ke.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},Ke.from=function(t,e){if(Ke.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return Ke.L;case"m":case"medium":return Ke.M;case"q":case"quartile":return Ke.Q;case"h":case"high":return Ke.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return e}},Ve.prototype={get:function(t){const e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(let n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Qe=Ve;function We(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}We.prototype.set=function(t,e,n,r){const o=t*this.size+e;this.data[o]=n,r&&(this.reservedBit[o]=!0)},We.prototype.get=function(t,e){return this.data[t*this.size+e]},We.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},We.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Ze=We,Xe={};!function(t){const e=He.getSymbolSize;t.getRowColCoords=function(t){if(1===t)return[];const n=Math.floor(t/7)+2,r=e(t),o=145===r?26:2*Math.ceil((r-13)/(2*n-2)),i=[r-7];for(let t=1;t<n-1;t++)i[t]=i[t-1]-o;return i.push(6),i.reverse()},t.getPositions=function(e){const n=[],r=t.getRowColCoords(e),o=r.length;for(let t=0;t<o;t++)for(let e=0;e<o;e++)0===t&&0===e||0===t&&e===o-1||t===o-1&&0===e||n.push([r[t],r[e]]);return n}}(Xe);var Ge={};const tn=He.getSymbolSize;Ge.getPositions=function(t){const e=tn(t);return[[0,0],[e-7,0],[0,e-7]]};var en={};!function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e=3,n=3,r=40,o=10;function i(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return r%3==0;case t.Patterns.PATTERN011:return(n+r)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case t.Patterns.PATTERN101:return n*r%2+n*r%3==0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(t){const n=t.size;let r=0,o=0,i=0,s=null,a=null;for(let c=0;c<n;c++){o=i=0,s=a=null;for(let l=0;l<n;l++){let n=t.get(c,l);n===s?o++:(o>=5&&(r+=e+(o-5)),s=n,o=1),n=t.get(l,c),n===a?i++:(i>=5&&(r+=e+(i-5)),a=n,i=1)}o>=5&&(r+=e+(o-5)),i>=5&&(r+=e+(i-5))}return r},t.getPenaltyN2=function(t){const e=t.size;let r=0;for(let n=0;n<e-1;n++)for(let o=0;o<e-1;o++){const e=t.get(n,o)+t.get(n,o+1)+t.get(n+1,o)+t.get(n+1,o+1);4!==e&&0!==e||r++}return r*n},t.getPenaltyN3=function(t){const e=t.size;let n=0,o=0,i=0;for(let r=0;r<e;r++){o=i=0;for(let s=0;s<e;s++)o=o<<1&2047|t.get(r,s),s>=10&&(1488===o||93===o)&&n++,i=i<<1&2047|t.get(s,r),s>=10&&(1488===i||93===i)&&n++}return n*r},t.getPenaltyN4=function(t){let e=0;const n=t.data.length;for(let r=0;r<n;r++)e+=t.data[r];return Math.abs(Math.ceil(100*e/n/5)-10)*o},t.applyMask=function(t,e){const n=e.size;for(let r=0;r<n;r++)for(let o=0;o<n;o++)e.isReserved(o,r)||e.xor(o,r,i(t,o,r))},t.getBestMask=function(e,n){const r=Object.keys(t.Patterns).length;let o=0,i=1/0;for(let s=0;s<r;s++){n(s),t.applyMask(s,e);const r=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(s,e),r<i&&(i=r,o=s)}return o}}(en);var nn={};const rn=Ye,on=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],sn=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];nn.getBlocksCount=function(t,e){switch(e){case rn.L:return on[4*(t-1)+0];case rn.M:return on[4*(t-1)+1];case rn.Q:return on[4*(t-1)+2];case rn.H:return on[4*(t-1)+3];default:return}},nn.getTotalCodewordsCount=function(t,e){switch(e){case rn.L:return sn[4*(t-1)+0];case rn.M:return sn[4*(t-1)+1];case rn.Q:return sn[4*(t-1)+2];case rn.H:return sn[4*(t-1)+3];default:return}};var an={},cn={};const ln=new Uint8Array(512),un=new Uint8Array(256);!function(){let t=1;for(let e=0;e<255;e++)ln[e]=t,un[t]=e,t<<=1,256&t&&(t^=285);for(let t=255;t<512;t++)ln[t]=ln[t-255]}(),cn.log=function(t){if(t<1)throw new Error("log("+t+")");return un[t]},cn.exp=function(t){return ln[t]},cn.mul=function(t,e){return 0===t||0===e?0:ln[un[t]+un[e]]},function(t){const e=cn;t.mul=function(t,n){const r=new Uint8Array(t.length+n.length-1);for(let o=0;o<t.length;o++)for(let i=0;i<n.length;i++)r[o+i]^=e.mul(t[o],n[i]);return r},t.mod=function(t,n){let r=new Uint8Array(t);for(;r.length-n.length>=0;){const t=r[0];for(let o=0;o<n.length;o++)r[o]^=e.mul(n[o],t);let o=0;for(;o<r.length&&0===r[o];)o++;r=r.slice(o)}return r},t.generateECPolynomial=function(n){let r=new Uint8Array([1]);for(let o=0;o<n;o++)r=t.mul(r,new Uint8Array([1,e.exp(o)]));return r}}(an);const fn=an;function dn(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}dn.prototype.initialize=function(t){this.degree=t,this.genPoly=fn.generateECPolynomial(this.degree)},dn.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const n=fn.mod(e,this.genPoly),r=this.degree-n.length;if(r>0){const t=new Uint8Array(this.degree);return t.set(n,r),t}return n};var gn=dn,mn={},pn={},$n={isValid:function(t){return!isNaN(t)&&t>=1&&t<=40}},hn={};const wn="[0-9]+";let bn="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";bn=bn.replace(/u/g,"\\u");const yn="(?:(?![A-Z0-9 $%*+\\-./:]|"+bn+")(?:.|[\r\n]))+";hn.KANJI=new RegExp(bn,"g"),hn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),hn.BYTE=new RegExp(yn,"g"),hn.NUMERIC=new RegExp(wn,"g"),hn.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const vn=new RegExp("^"+bn+"$"),En=new RegExp("^"+wn+"$"),xn=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");hn.testKanji=function(t){return vn.test(t)},hn.testNumeric=function(t){return En.test(t)},hn.testAlphanumeric=function(t){return xn.test(t)},function(t){const e=$n,n=hn;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(t,n){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!e.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?t.ccBits[0]:n<27?t.ccBits[1]:t.ccBits[2]},t.getBestModeForData=function(e){return n.testNumeric(e)?t.NUMERIC:n.testAlphanumeric(e)?t.ALPHANUMERIC:n.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},t.isValid=function(t){return t&&t.bit&&t.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(t){return n}}}(pn),function(t){const e=He,n=nn,r=Ye,o=pn,i=$n,s=e.getBCHDigit(7973);function a(t,e){return o.getCharCountIndicator(t,e)+4}function c(t,e){let n=0;return t.forEach((function(t){const r=a(t.mode,e);n+=r+t.getBitsLength()})),n}t.from=function(t,e){return i.isValid(t)?parseInt(t,10):e},t.getCapacity=function(t,r,s){if(!i.isValid(t))throw new Error("Invalid QR Code version");void 0===s&&(s=o.BYTE);const c=8*(e.getSymbolTotalCodewords(t)-n.getTotalCodewordsCount(t,r));if(s===o.MIXED)return c;const l=c-a(s,t);switch(s){case o.NUMERIC:return Math.floor(l/10*3);case o.ALPHANUMERIC:return Math.floor(l/11*2);case o.KANJI:return Math.floor(l/13);case o.BYTE:default:return Math.floor(l/8)}},t.getBestVersionForData=function(e,n){let i;const s=r.from(n,r.M);if(Array.isArray(e)){if(e.length>1)return function(e,n){for(let r=1;r<=40;r++)if(c(e,r)<=t.getCapacity(r,n,o.MIXED))return r}(e,s);if(0===e.length)return 1;i=e[0]}else i=e;return function(e,n,r){for(let o=1;o<=40;o++)if(n<=t.getCapacity(o,r,e))return o}(i.mode,i.getLength(),s)},t.getEncodedBits=function(t){if(!i.isValid(t)||t<7)throw new Error("Invalid QR Code version");let n=t<<12;for(;e.getBCHDigit(n)-s>=0;)n^=7973<<e.getBCHDigit(n)-s;return t<<12|n}}(mn);var Cn={};const _n=He,Nn=_n.getBCHDigit(1335);Cn.getEncodedBits=function(t,e){const n=t.bit<<3|e;let r=n<<10;for(;_n.getBCHDigit(r)-Nn>=0;)r^=1335<<_n.getBCHDigit(r)-Nn;return 21522^(n<<10|r)};var An={};const In=pn;function Tn(t){this.mode=In.NUMERIC,this.data=t.toString()}Tn.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},Tn.prototype.getLength=function(){return this.data.length},Tn.prototype.getBitsLength=function(){return Tn.getBitsLength(this.data.length)},Tn.prototype.write=function(t){let e,n,r;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),r=parseInt(n,10),t.put(r,10);const o=this.data.length-e;o>0&&(n=this.data.substr(e),r=parseInt(n,10),t.put(r,3*o+1))};var Bn=Tn;const Pn=pn,kn=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Mn(t){this.mode=Pn.ALPHANUMERIC,this.data=t}Mn.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},Mn.prototype.getLength=function(){return this.data.length},Mn.prototype.getBitsLength=function(){return Mn.getBitsLength(this.data.length)},Mn.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let n=45*kn.indexOf(this.data[e]);n+=kn.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(kn.indexOf(this.data[e]),6)};var Sn=Mn;const Ln=function(t){for(var e=[],n=t.length,r=0;r<n;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319&&n>r+1){var i=t.charCodeAt(r+1);i>=56320&&i<=57343&&(o=1024*(o-55296)+i-56320+65536,r+=1)}o<128?e.push(o):o<2048?(e.push(o>>6|192),e.push(63&o|128)):o<55296||o>=57344&&o<65536?(e.push(o>>12|224),e.push(o>>6&63|128),e.push(63&o|128)):o>=65536&&o<=1114111?(e.push(o>>18|240),e.push(o>>12&63|128),e.push(o>>6&63|128),e.push(63&o|128)):e.push(239,191,189)}return new Uint8Array(e).buffer},Rn=pn;function Un(t){this.mode=Rn.BYTE,"string"==typeof t&&(t=Ln(t)),this.data=new Uint8Array(t)}Un.getBitsLength=function(t){return 8*t},Un.prototype.getLength=function(){return this.data.length},Un.prototype.getBitsLength=function(){return Un.getBitsLength(this.data.length)},Un.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var zn=Un;const jn=pn,qn=He;function Dn(t){this.mode=jn.KANJI,this.data=t}Dn.getBitsLength=function(t){return 13*t},Dn.prototype.getLength=function(){return this.data.length},Dn.prototype.getBitsLength=function(){return Dn.getBitsLength(this.data.length)},Dn.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=qn.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13)}};var Fn=Dn,Hn={exports:{}};!function(t){var e={single_source_shortest_paths:function(t,n,r){var o={},i={};i[n]=0;var s,a,c,l,u,f,d,g=e.PriorityQueue.make();for(g.push(n,0);!g.empty();)for(c in a=(s=g.pop()).value,l=s.cost,u=t[a]||{})u.hasOwnProperty(c)&&(f=l+u[c],d=i[c],(void 0===i[c]||d>f)&&(i[c]=f,g.push(c,f),o[c]=a));if(void 0!==r&&void 0===i[r]){var m=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(m)}return o},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e;r;)n.push(r),t[r],r=t[r];return n.reverse(),n},find_path:function(t,n,r){var o=e.single_source_shortest_paths(t,n,r);return e.extract_shortest_path_from_predecessor_list(o,r)},PriorityQueue:{make:function(t){var n,r=e.PriorityQueue,o={};for(n in t=t||{},r)r.hasOwnProperty(n)&&(o[n]=r[n]);return o.queue=[],o.sorter=t.sorter||r.default_sorter,o},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=e}(Hn);var Jn=Hn.exports;!function(t){const e=pn,n=Bn,r=Sn,o=zn,i=Fn,s=hn,a=He,c=Jn;function l(t){return unescape(encodeURIComponent(t)).length}function u(t,e,n){const r=[];let o;for(;null!==(o=t.exec(n));)r.push({data:o[0],index:o.index,mode:e,length:o[0].length});return r}function f(t){const n=u(s.NUMERIC,e.NUMERIC,t),r=u(s.ALPHANUMERIC,e.ALPHANUMERIC,t);let o,i;a.isKanjiModeEnabled()?(o=u(s.BYTE,e.BYTE,t),i=u(s.KANJI,e.KANJI,t)):(o=u(s.BYTE_KANJI,e.BYTE,t),i=[]);return n.concat(r,o,i).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function d(t,s){switch(s){case e.NUMERIC:return n.getBitsLength(t);case e.ALPHANUMERIC:return r.getBitsLength(t);case e.KANJI:return i.getBitsLength(t);case e.BYTE:return o.getBitsLength(t)}}function g(t,s){let c;const l=e.getBestModeForData(t);if(c=e.from(s,l),c!==e.BYTE&&c.bit<l.bit)throw new Error('"'+t+'" cannot be encoded with mode '+e.toString(c)+".\n Suggested mode is: "+e.toString(l));switch(c!==e.KANJI||a.isKanjiModeEnabled()||(c=e.BYTE),c){case e.NUMERIC:return new n(t);case e.ALPHANUMERIC:return new r(t);case e.KANJI:return new i(t);case e.BYTE:return new o(t)}}t.fromArray=function(t){return t.reduce((function(t,e){return"string"==typeof e?t.push(g(e,null)):e.data&&t.push(g(e.data,e.mode)),t}),[])},t.fromString=function(n,r){const o=function(t){const n=[];for(let r=0;r<t.length;r++){const o=t[r];switch(o.mode){case e.NUMERIC:n.push([o,{data:o.data,mode:e.ALPHANUMERIC,length:o.length},{data:o.data,mode:e.BYTE,length:o.length}]);break;case e.ALPHANUMERIC:n.push([o,{data:o.data,mode:e.BYTE,length:o.length}]);break;case e.KANJI:n.push([o,{data:o.data,mode:e.BYTE,length:l(o.data)}]);break;case e.BYTE:n.push([{data:o.data,mode:e.BYTE,length:l(o.data)}])}}return n}(f(n,a.isKanjiModeEnabled())),i=function(t,n){const r={},o={start:{}};let i=["start"];for(let s=0;s<t.length;s++){const a=t[s],c=[];for(let t=0;t<a.length;t++){const l=a[t],u=""+s+t;c.push(u),r[u]={node:l,lastCount:0},o[u]={};for(let t=0;t<i.length;t++){const s=i[t];r[s]&&r[s].node.mode===l.mode?(o[s][u]=d(r[s].lastCount+l.length,l.mode)-d(r[s].lastCount,l.mode),r[s].lastCount+=l.length):(r[s]&&(r[s].lastCount=l.length),o[s][u]=d(l.length,l.mode)+4+e.getCharCountIndicator(l.mode,n))}}i=c}for(let t=0;t<i.length;t++)o[i[t]].end=0;return{map:o,table:r}}(o,r),s=c.find_path(i.map,"start","end"),u=[];for(let t=1;t<s.length-1;t++)u.push(i.table[s[t]].node);return t.fromArray(function(t){return t.reduce((function(t,e){const n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[])}(u))},t.rawSplit=function(e){return t.fromArray(f(e,a.isKanjiModeEnabled()))}}(An);const On=He,Kn=Ye,Yn=Qe,Vn=Ze,Qn=Xe,Wn=Ge,Zn=en,Xn=nn,Gn=gn,tr=mn,er=Cn,nr=pn,rr=An;function or(t,e,n){const r=t.size,o=er.getEncodedBits(e,n);let i,s;for(i=0;i<15;i++)s=1==(o>>i&1),i<6?t.set(i,8,s,!0):i<8?t.set(i+1,8,s,!0):t.set(r-15+i,8,s,!0),i<8?t.set(8,r-i-1,s,!0):i<9?t.set(8,15-i-1+1,s,!0):t.set(8,15-i-1,s,!0);t.set(r-8,8,1,!0)}function ir(t,e,n){const r=new Yn;n.forEach((function(e){r.put(e.mode.bit,4),r.put(e.getLength(),nr.getCharCountIndicator(e.mode,t)),e.write(r)}));const o=8*(On.getSymbolTotalCodewords(t)-Xn.getTotalCodewordsCount(t,e));for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);const i=(o-r.getLengthInBits())/8;for(let t=0;t<i;t++)r.put(t%2?17:236,8);return function(t,e,n){const r=On.getSymbolTotalCodewords(e),o=Xn.getTotalCodewordsCount(e,n),i=r-o,s=Xn.getBlocksCount(e,n),a=r%s,c=s-a,l=Math.floor(r/s),u=Math.floor(i/s),f=u+1,d=l-u,g=new Gn(d);let m=0;const p=new Array(s),$=new Array(s);let h=0;const w=new Uint8Array(t.buffer);for(let t=0;t<s;t++){const e=t<c?u:f;p[t]=w.slice(m,m+e),$[t]=g.encode(p[t]),m+=e,h=Math.max(h,e)}const b=new Uint8Array(r);let y,v,E=0;for(y=0;y<h;y++)for(v=0;v<s;v++)y<p[v].length&&(b[E++]=p[v][y]);for(y=0;y<d;y++)for(v=0;v<s;v++)b[E++]=$[v][y];return b}(r,t,e)}function sr(t,e,n,r){let o;if(Array.isArray(t))o=rr.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let r=e;if(!r){const e=rr.rawSplit(t);r=tr.getBestVersionForData(e,n)}o=rr.fromString(t,r||40)}}const i=tr.getBestVersionForData(o,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<i)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+i+".\n")}else e=i;const s=ir(e,n,o),a=On.getSymbolSize(e),c=new Vn(a);return function(t,e){const n=t.size,r=Wn.getPositions(e);for(let e=0;e<r.length;e++){const o=r[e][0],i=r[e][1];for(let e=-1;e<=7;e++)if(!(o+e<=-1||n<=o+e))for(let r=-1;r<=7;r++)i+r<=-1||n<=i+r||(e>=0&&e<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===e||6===e)||e>=2&&e<=4&&r>=2&&r<=4?t.set(o+e,i+r,!0,!0):t.set(o+e,i+r,!1,!0))}}(c,e),function(t){const e=t.size;for(let n=8;n<e-8;n++){const e=n%2==0;t.set(n,6,e,!0),t.set(6,n,e,!0)}}(c),function(t,e){const n=Qn.getPositions(e);for(let e=0;e<n.length;e++){const r=n[e][0],o=n[e][1];for(let e=-2;e<=2;e++)for(let n=-2;n<=2;n++)-2===e||2===e||-2===n||2===n||0===e&&0===n?t.set(r+e,o+n,!0,!0):t.set(r+e,o+n,!1,!0)}}(c,e),or(c,n,0),e>=7&&function(t,e){const n=t.size,r=tr.getEncodedBits(e);let o,i,s;for(let e=0;e<18;e++)o=Math.floor(e/3),i=e%3+n-8-3,s=1==(r>>e&1),t.set(o,i,s,!0),t.set(i,o,s,!0)}(c,e),function(t,e){const n=t.size;let r=-1,o=n-1,i=7,s=0;for(let a=n-1;a>0;a-=2)for(6===a&&a--;;){for(let n=0;n<2;n++)if(!t.isReserved(o,a-n)){let r=!1;s<e.length&&(r=1==(e[s]>>>i&1)),t.set(o,a-n,r),i--,-1===i&&(s++,i=7)}if(o+=r,o<0||n<=o){o-=r,r=-r;break}}}(c,s),isNaN(r)&&(r=Zn.getBestMask(c,or.bind(null,c,n))),Zn.applyMask(r,c),or(c,n,r),{modules:c,version:e,errorCorrectionLevel:n,maskPattern:r,segments:o}}Fe.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");let n,r,o=Kn.M;return void 0!==e&&(o=Kn.from(e.errorCorrectionLevel,Kn.M),n=tr.from(e.version),r=Zn.from(e.maskPattern),e.toSJISFunc&&On.setToSJISFunction(e.toSJISFunc)),sr(t,n,o,r)};var ar={},cr={};!function(t){function e(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");const n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+e.slice(0,6).join("")}}t.getOptions=function(t){t||(t={}),t.color||(t.color={});const n=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,r=t.width&&t.width>=21?t.width:void 0,o=t.scale||4;return{width:r,scale:r?4:o,margin:n,color:{dark:e(t.color.dark||"#000000ff"),light:e(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},t.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},t.getImageWidth=function(e,n){const r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){const o=n.modules.size,i=n.modules.data,s=t.getScale(o,r),a=Math.floor((o+2*r.margin)*s),c=r.margin*s,l=[r.color.light,r.color.dark];for(let t=0;t<a;t++)for(let n=0;n<a;n++){let u=4*(t*a+n),f=r.color.light;if(t>=c&&n>=c&&t<a-c&&n<a-c){f=l[i[Math.floor((t-c)/s)*o+Math.floor((n-c)/s)]?1:0]}e[u++]=f.r,e[u++]=f.g,e[u++]=f.b,e[u]=f.a}}}(cr),function(t){const e=cr;t.render=function(t,n,r){let o=r,i=n;void 0!==o||n&&n.getContext||(o=n,n=void 0),n||(i=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),o=e.getOptions(o);const s=e.getImageWidth(t.modules.size,o),a=i.getContext("2d"),c=a.createImageData(s,s);return e.qrToImageData(c.data,t,o),function(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}(a,i,s),a.putImageData(c,0,0),i},t.renderToDataURL=function(e,n,r){let o=r;void 0!==o||n&&n.getContext||(o=n,n=void 0),o||(o={});const i=t.render(e,n,o),s=o.type||"image/png",a=o.rendererOpts||{};return i.toDataURL(s,a.quality)}}(ar);var lr={};const ur=cr;function fr(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function dr(t,e,n){let r=t+e;return void 0!==n&&(r+=" "+n),r}lr.render=function(t,e,n){const r=ur.getOptions(e),o=t.modules.size,i=t.modules.data,s=o+2*r.margin,a=r.color.light.a?"<path "+fr(r.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",c="<path "+fr(r.color.dark,"stroke")+' d="'+function(t,e,n){let r="",o=0,i=!1,s=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);c||i||(i=!0),t[a]?(s++,a>0&&c>0&&t[a-1]||(r+=i?dr("M",c+n,.5+l+n):dr("m",o,0),o=0,i=!1),c+1<e&&t[a+1]||(r+=dr("h",s),s=0)):o++}return r}(i,o,r.margin)+'"/>',l='viewBox="0 0 '+s+" "+s+'"',u='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+l+' shape-rendering="crispEdges">'+a+c+"</svg>\n";return"function"==typeof n&&n(null,u),u};const gr=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},mr=Fe,pr=ar,$r=lr;function hr(t,e,n,r,o){const i=[].slice.call(arguments,1),s=i.length,a="function"==typeof i[s-1];if(!a&&!gr())throw new Error("Callback required as last argument");if(!a){if(s<1)throw new Error("Too few arguments provided");return 1===s?(n=e,e=r=void 0):2!==s||e.getContext||(r=n,n=e,e=void 0),new Promise((function(o,i){try{const i=mr.create(n,r);o(t(i,e,r))}catch(t){i(t)}}))}if(s<2)throw new Error("Too few arguments provided");2===s?(o=n,n=e,e=r=void 0):3===s&&(e.getContext&&void 0===o?(o=r,r=void 0):(o=r,r=n,n=e,e=void 0));try{const i=mr.create(n,r);o(null,t(i,e,r))}catch(t){o(t)}}function wr(t){let e,n;return e=new At({props:{show:t[0],$$slots:{default:[yr]},$$scope:{ctx:t}}}),e.$on("close",t[3]),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.show=t[0]),38&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function br(t){let e,n,r,o,i,s,a,l,u;return i=new dt({props:{class:"grn",t:"Baixar Imagem",i:"download"}}),l=new dt({props:{i:"close",t:"Fechar",action:t[3]}}),{c(){e=h("img"),r=b(),o=h("a"),G(i.$$.fragment),a=b(),G(l.$$.fragment),c(e.src,n=t[1])||E(e,"src",n),E(e,"alt","QR Code"),E(e,"class","svelte-djbe8d"),E(o,"href",t[1]),E(o,"download",s=`qr-${Er(t[2].name)}`),E(o,"class","svelte-djbe8d")},m(t,n){m(t,e,n),m(t,r,n),m(t,o,n),tt(i,o,null),m(t,a,n),tt(l,t,n),u=!0},p(t,r){(!u||2&r&&!c(e.src,n=t[1]))&&E(e,"src",n),(!u||2&r)&&E(o,"href",t[1]),(!u||4&r&&s!==(s=`qr-${Er(t[2].name)}`))&&E(o,"download",s)},i(t){u||(W(i.$$.fragment,t),W(l.$$.fragment,t),u=!0)},o(t){Z(i.$$.fragment,t),Z(l.$$.fragment,t),u=!1},d(t){t&&p(e),t&&p(r),t&&p(o),et(i),t&&p(a),et(l,t)}}}function yr(t){let e,n,r=t[1]&&br(t);return{c(){r&&r.c(),e=y()},m(t,o){r&&r.m(t,o),m(t,e,o),n=!0},p(t,n){t[1]?r?(r.p(t,n),2&n&&W(r,1)):(r=br(t),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(V(),Z(r,1,1,(()=>{r=null})),Q())},i(t){n||(W(r),n=!0)},o(t){Z(r),n=!1},d(t){r&&r.d(t),t&&p(e)}}}function vr(t){let e,n,r=t[0]&&wr(t);return{c(){e=h("div"),r&&r.c(),E(e,"class","svelte-djbe8d")},m(t,o){m(t,e,o),r&&r.m(e,null),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&W(r,1)):(r=wr(t),r.c(),W(r,1),r.m(e,null)):r&&(V(),Z(r,1,1,(()=>{r=null})),Q())},i(t){n||(W(r),n=!0)},o(t){Z(r),n=!1},d(t){t&&p(e),r&&r.d()}}}function Er(t){return t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replaceAll(" ","-")}function xr(t,e,n){let r;f(t,ht,(t=>n(2,r=t)));let o,{show:i}=e,s={clyp7z8db0000cxl6arjgaa23:"adeildo-lanches"};return k((async t=>{n(1,o=await De.toDataURL(`${window.location}cardapio/${s[r.id]}`))})),t.$$set=t=>{"show"in t&&n(0,i=t.show)},[i,o,r,function(){n(0,i=!1)}]}De.create=mr.create,De.toCanvas=hr.bind(null,pr.render),De.toDataURL=hr.bind(null,pr.renderToDataURL),De.toString=hr.bind(null,(function(t,e,n){return $r.render(t,n)}));class Cr extends ot{constructor(t){super(),rt(this,t,xr,vr,i,{show:0})}}function _r(t,e,n){const r=t.slice();return r[13]=e[n],r}function Nr(t){let e,n;return e=new Le({props:{category:t[13]}}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.category=t[13]),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Ar(t){let e,n,r,o,i,s,a,c,l,u,f,d,y,v,C,_,N,A,I,T,B,P,k,M,S,R,U,z,j,q,F,H,J,O,K,Y,nt,rt,ot,it,st,ct,lt,ut,ft,gt,mt,pt,$t,ht,wt,bt,yt,vt=t[3].name+"",Et=(t[3].phone||"Não informado.")+"",xt=(t[3].whatsapp||"Não informado.")+"",Ct=(t[3].address||"Não informado.")+"";s=new dt({props:{i:"menu_book"}}),l=new dt({props:{i:"qr_code",action:t[6]}}),f=new dt({props:{class:"blu",i:"edit",t:"",action:t[5]}}),y=new dt({props:{class:"red",i:"logout",action:t[8]}}),A=new at({props:{i:"phone"}}),R=new at({props:{i:"phone"}}),O=new at({props:{i:"place"}}),ct=new dt({props:{class:"grn",i:"add",t:"Categoria",action:t[7]}});let _t=t[3].categories||[],Nt=[];for(let e=0;e<_t.length;e+=1)Nt[e]=Nr(_r(t,_t,e));const At=t=>Z(Nt[t],1,1,(()=>{Nt[t]=null}));function It(e){t[9](e)}let Tt={};function Bt(e){t[10](e)}void 0!==t[0]&&(Tt.show=t[0]),ft=new qe({props:Tt}),L.push((()=>X(ft,"show",It)));let Pt={};function kt(e){t[11](e)}void 0!==t[1]&&(Pt.show=t[1]),pt=new de({props:Pt}),L.push((()=>X(pt,"show",Bt)));let Mt={};return void 0!==t[2]&&(Mt.show=t[2]),wt=new Cr({props:Mt}),L.push((()=>X(wt,"show",kt))),{c(){e=h("div"),n=h("h1"),r=w(vt),o=b(),i=h("a"),G(s.$$.fragment),c=b(),G(l.$$.fragment),u=b(),G(f.$$.fragment),d=b(),G(y.$$.fragment),v=b(),C=h("table"),_=h("tr"),N=h("td"),G(A.$$.fragment),I=w(" Telefone:"),T=b(),B=h("td"),P=w(Et),k=b(),M=h("tr"),S=h("td"),G(R.$$.fragment),U=w(" Whatsapp:"),z=b(),j=h("td"),q=w(xt),F=b(),H=h("tr"),J=h("td"),G(O.$$.fragment),K=w(" Endereço:"),Y=b(),nt=h("td"),rt=w(Ct),ot=b(),it=h("div"),st=b(),G(ct.$$.fragment),lt=b();for(let t=0;t<Nt.length;t+=1)Nt[t].c();ut=b(),G(ft.$$.fragment),mt=b(),G(pt.$$.fragment),ht=b(),G(wt.$$.fragment),E(i,"class","right"),E(i,"href",a=`/s/cardapio/${t[4][t[3].id]}`),E(i,"target","_blank"),E(e,"class","row"),E(N,"class","svelte-i7doj6"),E(B,"class","svelte-i7doj6"),E(S,"class","svelte-i7doj6"),E(j,"class","svelte-i7doj6"),E(J,"class","svelte-i7doj6"),E(nt,"class","svelte-i7doj6"),E(it,"class","hr")},m(t,a){m(t,e,a),g(e,n),g(n,r),g(e,o),g(e,i),tt(s,i,null),g(e,c),tt(l,e,null),g(e,u),tt(f,e,null),g(e,d),tt(y,e,null),m(t,v,a),m(t,C,a),g(C,_),g(_,N),tt(A,N,null),g(N,I),g(_,T),g(_,B),g(B,P),g(C,k),g(C,M),g(M,S),tt(R,S,null),g(S,U),g(M,z),g(M,j),g(j,q),g(C,F),g(C,H),g(H,J),tt(O,J,null),g(J,K),g(H,Y),g(H,nt),g(nt,rt),m(t,ot,a),m(t,it,a),m(t,st,a),tt(ct,t,a),m(t,lt,a);for(let e=0;e<Nt.length;e+=1)Nt[e]&&Nt[e].m(t,a);m(t,ut,a),tt(ft,t,a),m(t,mt,a),tt(pt,t,a),m(t,ht,a),tt(wt,t,a),yt=!0},p(t,[e]){if((!yt||8&e)&&vt!==(vt=t[3].name+"")&&x(r,vt),(!yt||8&e&&a!==(a=`/s/cardapio/${t[4][t[3].id]}`))&&E(i,"href",a),(!yt||8&e)&&Et!==(Et=(t[3].phone||"Não informado.")+"")&&x(P,Et),(!yt||8&e)&&xt!==(xt=(t[3].whatsapp||"Não informado.")+"")&&x(q,xt),(!yt||8&e)&&Ct!==(Ct=(t[3].address||"Não informado.")+"")&&x(rt,Ct),8&e){let n;for(_t=t[3].categories||[],n=0;n<_t.length;n+=1){const r=_r(t,_t,n);Nt[n]?(Nt[n].p(r,e),W(Nt[n],1)):(Nt[n]=Nr(r),Nt[n].c(),W(Nt[n],1),Nt[n].m(ut.parentNode,ut))}for(V(),n=_t.length;n<Nt.length;n+=1)At(n);Q()}const n={};!gt&&1&e&&(gt=!0,n.show=t[0],D((()=>gt=!1))),ft.$set(n);const o={};!$t&&2&e&&($t=!0,o.show=t[1],D((()=>$t=!1))),pt.$set(o);const s={};!bt&&4&e&&(bt=!0,s.show=t[2],D((()=>bt=!1))),wt.$set(s)},i(t){if(!yt){W(s.$$.fragment,t),W(l.$$.fragment,t),W(f.$$.fragment,t),W(y.$$.fragment,t),W(A.$$.fragment,t),W(R.$$.fragment,t),W(O.$$.fragment,t),W(ct.$$.fragment,t);for(let t=0;t<_t.length;t+=1)W(Nt[t]);W(ft.$$.fragment,t),W(pt.$$.fragment,t),W(wt.$$.fragment,t),yt=!0}},o(t){Z(s.$$.fragment,t),Z(l.$$.fragment,t),Z(f.$$.fragment,t),Z(y.$$.fragment,t),Z(A.$$.fragment,t),Z(R.$$.fragment,t),Z(O.$$.fragment,t),Z(ct.$$.fragment,t),Nt=Nt.filter(Boolean);for(let t=0;t<Nt.length;t+=1)Z(Nt[t]);Z(ft.$$.fragment,t),Z(pt.$$.fragment,t),Z(wt.$$.fragment,t),yt=!1},d(t){t&&p(e),et(s),et(l),et(f),et(y),t&&p(v),t&&p(C),et(A),et(R),et(O),t&&p(ot),t&&p(it),t&&p(st),et(ct,t),t&&p(lt),$(Nt,t),t&&p(ut),et(ft,t),t&&p(mt),et(pt,t),t&&p(ht),et(wt,t)}}}function Ir(t,e,n){let r;f(t,ht,(t=>n(3,r=t)));let o,i,s;return[o,i,s,r,{clyp7z8db0000cxl6arjgaa23:"adeildo-lanches"},function(){n(0,o=1)},function(){n(2,s=1)},function(){n(1,i=1)},function(){confirm("Certeza que deseja sair dessa conta?")&&(wt(`logout/${pt}`),localStorage.removeItem("session_id"),pt.set(),ht.set())},function(t){o=t,n(0,o)},function(t){i=t,n(1,i)},function(t){s=t,n(2,s)}]}class Tr extends ot{constructor(t){super(),rt(this,t,Ir,Ar,i,{})}}function Br(t){let e,n,r,o,i,s,a;return n=new at({props:{i:t[2]}}),{c(){e=h("li"),G(n.$$.fragment),r=b(),o=w(t[1]),E(e,"class","row"),I(e,"active",t[3]==t[0])},m(c,l){m(c,e,l),tt(n,e,null),g(e,r),g(e,o),i=!0,s||(a=v(e,"click",t[4]),s=!0)},p(t,[r]){const s={};4&r&&(s.i=t[2]),n.$set(s),(!i||2&r)&&x(o,t[1]),(!i||9&r)&&I(e,"active",t[3]==t[0])},i(t){i||(W(n.$$.fragment,t),i=!0)},o(t){Z(n.$$.fragment,t),i=!1},d(t){t&&p(e),et(n),s=!1,a()}}}function Pr(t,e,n){let r;f(t,$t,(t=>n(3,r=t)));let{page:o,name:i,i:s}=e;return t.$$set=t=>{"page"in t&&n(0,o=t.page),"name"in t&&n(1,i=t.name),"i"in t&&n(2,s=t.i)},[o,i,s,r,function(){$t.set(o)}]}class kr extends ot{constructor(t){super(),rt(this,t,Pr,Br,i,{page:0,name:1,i:2})}}function Mr(t){let e,n;return e=new kr({props:{page:"login",name:"Login",i:"login"}}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Sr(t){let e,n,r,o;return e=new kr({props:{page:"menu",name:"Cardápio",i:"restaurant_menu"}}),r=new kr({props:{page:"items",name:"Produtos",i:"lunch_dining"}}),{c(){G(e.$$.fragment),n=b(),G(r.$$.fragment)},m(t,i){tt(e,t,i),m(t,n,i),tt(r,t,i),o=!0},i(t){o||(W(e.$$.fragment,t),W(r.$$.fragment,t),o=!0)},o(t){Z(e.$$.fragment,t),Z(r.$$.fragment,t),o=!1},d(t){et(e,t),t&&p(n),et(r,t)}}}function Lr(t){let e,n,r,o,i,s,a=window.location.href.endsWith("adm");const c=[Sr,Mr],l=[];function u(t,e){return t[0]?0:1}r=u(t),o=l[r]=c[r](t);let f=a&&function(t){let e,n;return e=new kr({props:{page:"admin",name:"Admin",i:"build"}}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}();return{c(){e=h("div"),n=h("ul"),o.c(),i=b(),f&&f.c(),E(n,"class","row svelte-gt0cw1"),E(e,"class","usn tac topbar svelte-gt0cw1")},m(t,o){m(t,e,o),g(e,n),l[r].m(n,null),g(n,i),f&&f.m(n,null),s=!0},p(t,[e]){let s=r;r=u(t),r!==s&&(V(),Z(l[s],1,1,(()=>{l[s]=null})),Q(),o=l[r],o||(o=l[r]=c[r](t),o.c()),W(o,1),o.m(n,i))},i(t){s||(W(o),W(f),s=!0)},o(t){Z(o),Z(f),s=!1},d(t){t&&p(e),l[r].d(),f&&f.d()}}}function Rr(t,e,n){let r;return f(t,pt,(t=>n(0,r=t))),[r]}class Ur extends ot{constructor(t){super(),rt(this,t,Rr,Lr,i,{})}}function zr(t){let e,n;return{c(){e=h("p"),n=w(t[1]),E(e,"class","red")},m(t,r){m(t,e,r),g(e,n)},p(t,e){2&e&&x(n,t[1])},d(t){t&&p(e)}}}function jr(t){let e,n,o,i,s,a,c,l,u,f,d,$,y,N,A,I,T,B,P,k,M,S,L,R,U=t[3]?"...":"Entrar",z=t[1]&&zr(t);return B=new at({props:{i:t[2]?"visibility_off":"visibility"}}),B.$on("click",t[4]),{c(){e=h("div"),e.innerHTML='<h2 class="svelte-19zgwbn">Invista em profissionalismo  com a <a class="grn" href="mailto:valealan84@gmail.com">vMenu</a></h2>',n=b(),o=h("div"),i=b(),s=h("form"),z&&z.c(),a=b(),c=h("label"),l=w("Nome:\n    "),u=h("input"),f=b(),d=h("label"),$=w("Senha:\n    "),y=h("div"),N=h("input"),A=b(),I=h("input"),T=b(),G(B.$$.fragment),P=b(),k=h("button"),M=w(U),E(e,"class","tac svelte-19zgwbn"),E(o,"class","hr svelte-19zgwbn"),E(u,"type","text"),u.required=!0,E(u,"class","svelte-19zgwbn"),E(N,"type","password"),_(N,"display",t[2]?"none":"block"),E(N,"class","svelte-19zgwbn"),E(I,"type","text"),_(I,"display",t[2]?"block":"none"),E(I,"class","svelte-19zgwbn"),E(y,"class","password-container svelte-19zgwbn"),E(k,"type","submit"),k.disabled=t[3],E(k,"class","svelte-19zgwbn"),E(s,"class","tas svelte-19zgwbn")},m(r,p){m(r,e,p),m(r,n,p),m(r,o,p),m(r,i,p),m(r,s,p),z&&z.m(s,null),g(s,a),g(s,c),g(c,l),g(c,u),C(u,t[0].username),g(s,f),g(s,d),g(d,$),g(d,y),g(y,N),C(N,t[0].password),g(y,A),g(y,I),C(I,t[0].password),g(y,T),tt(B,y,null),g(s,P),g(s,k),g(k,M),S=!0,L||(R=[v(u,"input",t[6]),v(N,"input",t[7]),v(I,"input",t[8]),v(s,"submit",t[5])],L=!0)},p(t,[e]){t[1]?z?z.p(t,e):(z=zr(t),z.c(),z.m(s,a)):z&&(z.d(1),z=null),1&e&&u.value!==t[0].username&&C(u,t[0].username),(!S||4&e)&&_(N,"display",t[2]?"none":"block"),1&e&&N.value!==t[0].password&&C(N,t[0].password),(!S||4&e)&&_(I,"display",t[2]?"block":"none"),1&e&&I.value!==t[0].password&&C(I,t[0].password);const n={};4&e&&(n.i=t[2]?"visibility_off":"visibility"),B.$set(n),(!S||8&e)&&U!==(U=t[3]?"...":"Entrar")&&x(M,U),(!S||8&e)&&(k.disabled=t[3])},i(t){S||(W(B.$$.fragment,t),S=!0)},o(t){Z(B.$$.fragment,t),S=!1},d(t){t&&p(e),t&&p(n),t&&p(o),t&&p(i),t&&p(s),z&&z.d(),et(B),L=!1,r(R)}}}function qr(t,e,n){let r,o,i,s={username:"",password:""};return[s,r,o,i,function(){n(2,o=!o)},async function(t){t.preventDefault(),n(1,r=""),n(3,i=!0);const{res:e,data:o}=await wt("login","POST",s);if(n(3,i=!1),e.ok)return localStorage.setItem("session_id",o.session.id),pt.set(o.session.id),void ht.set((await wt(`menu/${o.session.menu_id}`)).data.menu);n(0,s.username="",s),n(0,s.password="",s),n(1,r="Credenciais inválidas")},function(){s.username=this.value,n(0,s)},function(){s.password=this.value,n(0,s)},function(){s.password=this.value,n(0,s)}]}class Dr extends ot{constructor(t){super(),rt(this,t,qr,jr,i,{})}}function Fr(t,e,n){const r=t.slice();return r[8]=e[n],r}function Hr(t){let e,n=t[3][t[4]][t[2]]||[],r=[];for(let e=0;e<n.length;e+=1)r[e]=Jr(Fr(t,n,e));return{c(){e=h("div");for(let t=0;t<r.length;t+=1)r[t].c();E(e,"class","images items-image")},m(t,n){m(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,o){if(30&o){let i;for(n=t[3][t[4]][t[2]]||[],i=0;i<n.length;i+=1){const s=Fr(t,n,i);r[i]?r[i].p(s,o):(r[i]=Jr(s),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){t&&p(e),$(r,t)}}}function Jr(t){let e,n;return{c(){e=h("img"),c(e.src,n=`/img/${t[1].id}/${t[8]}.png`)||E(e,"src",n),E(e,"alt","")},m(t,n){m(t,e,n)},p(t,r){6&r&&!c(e.src,n=`/img/${t[1].id}/${t[8]}.png`)&&E(e,"src",n)},d(t){t&&p(e)}}}function Or(t){let e;return{c(){e=h("div"),E(e,"class","dots")},m(t,n){m(t,e,n)},d(t){t&&p(e)}}}function Kr(t){let e,n,r=t[0].description+"";return{c(){e=h("p"),n=w(r),E(e,"class","desc")},m(t,r){m(t,e,r),g(e,n)},p(t,e){1&e&&r!==(r=t[0].description+"")&&x(n,r)},d(t){t&&p(e)}}}function Yr(e){let n,r,o,i,s,a,c,l,u,f,d,$,y=e[0].name+"",v=Ut(e[0].price_in_cents)+"",C=null!=e[2]&&Hr(e),_=!e[0].description&&Or(),N=e[0].description&&Kr(e);return{c(){C&&C.c(),n=b(),r=h("div"),o=h("div"),i=h("p"),s=w(y),a=b(),_&&_.c(),c=b(),l=h("p"),u=h("span"),u.textContent="R$",f=b(),d=w(v),$=b(),N&&N.c(),E(i,"class","name"),E(l,"class","price"),E(o,"class","row jcsb"),E(r,"class","item")},m(t,e){C&&C.m(t,e),m(t,n,e),m(t,r,e),g(r,o),g(o,i),g(i,s),g(o,a),_&&_.m(o,null),g(o,c),g(o,l),g(l,u),g(l,f),g(l,d),g(r,$),N&&N.m(r,null)},p(t,[e]){null!=t[2]?C?C.p(t,e):(C=Hr(t),C.c(),C.m(n.parentNode,n)):C&&(C.d(1),C=null),1&e&&y!==(y=t[0].name+"")&&x(s,y),t[0].description?_&&(_.d(1),_=null):_||(_=Or(),_.c(),_.m(o,c)),1&e&&v!==(v=Ut(t[0].price_in_cents)+"")&&x(d,v),t[0].description?N?N.p(t,e):(N=Kr(t),N.c(),N.m(r,null)):N&&(N.d(1),N=null)},i:t,o:t,d(t){C&&C.d(t),t&&p(n),t&&p(r),_&&_.d(),N&&N.d()}}}function Vr(t,e,n){let r,{item:o,category:i,menu:s}=e;const a={hamburgueres:[["h1","h2"],["h3","h4"],["h5","h6"]]},c=Rt(i.name),l=Math.ceil(i.items.length/(a[c]?.length+1)),u=i.items.findIndex((t=>t.id==o.id));return a[c]&&u%l==0&&u&&(r=u/l-1),t.$$set=t=>{"item"in t&&n(0,o=t.item),"category"in t&&n(5,i=t.category),"menu"in t&&n(1,s=t.menu)},[o,s,r,a,c,i]}class Qr extends ot{constructor(t){super(),rt(this,t,Vr,Yr,i,{item:0,category:5,menu:1})}}function Wr(t,e,n){const r=t.slice();return r[4]=e[n],r}function Zr(t,e,n){const r=t.slice();return r[7]=e[n],r}function Xr(t){let e,n;return{c(){e=h("img"),E(e,"class","img"),c(e.src,n=`/img/${t[1].id}/${t[7]}.png`)||E(e,"src",n),E(e,"alt","")},m(t,n){m(t,e,n)},p(t,r){2&r&&!c(e.src,n=`/img/${t[1].id}/${t[7]}.png`)&&E(e,"src",n)},d(t){t&&p(e)}}}function Gr(t){let e,n;return e=new Qr({props:{item:t[4],category:t[0],menu:t[1]}}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.item=t[4]),1&n&&(r.category=t[0]),2&n&&(r.menu=t[1]),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function to(t){let e,n,r,o,i,s,a,c=t[0].name+"",l=t[2][t[3]]||[],u=[];for(let e=0;e<l.length;e+=1)u[e]=Xr(Zr(t,l,e));let f=t[0].items,d=[];for(let e=0;e<f.length;e+=1)d[e]=Gr(Wr(t,f,e));const y=t=>Z(d[t],1,1,(()=>{d[t]=null}));return{c(){e=h("main"),n=h("div");for(let t=0;t<u.length;t+=1)u[t].c();r=b(),o=h("h1"),i=w(c),s=b();for(let t=0;t<d.length;t+=1)d[t].c();E(n,"class","images")},m(t,c){m(t,e,c),g(e,n);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(n,null);g(e,r),g(e,o),g(o,i),g(e,s);for(let t=0;t<d.length;t+=1)d[t]&&d[t].m(e,null);a=!0},p(t,[r]){if(14&r){let e;for(l=t[2][t[3]]||[],e=0;e<l.length;e+=1){const o=Zr(t,l,e);u[e]?u[e].p(o,r):(u[e]=Xr(o),u[e].c(),u[e].m(n,null))}for(;e<u.length;e+=1)u[e].d(1);u.length=l.length}if((!a||1&r)&&c!==(c=t[0].name+"")&&x(i,c),3&r){let n;for(f=t[0].items,n=0;n<f.length;n+=1){const o=Wr(t,f,n);d[n]?(d[n].p(o,r),W(d[n],1)):(d[n]=Gr(o),d[n].c(),W(d[n],1),d[n].m(e,null))}for(V(),n=f.length;n<d.length;n+=1)y(n);Q()}},i(t){if(!a){for(let t=0;t<f.length;t+=1)W(d[t]);a=!0}},o(t){d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)Z(d[t]);a=!1},d(t){t&&p(e),$(u,t),$(d,t)}}}function eo(t,e,n){let{category:r,menu:o}=e;const i=Rt(r.name);return t.$$set=t=>{"category"in t&&n(0,r=t.category),"menu"in t&&n(1,o=t.menu)},[r,o,{acrescimos:["a1","a2"],bebidas:["b1","b2"]},i]}class no extends ot{constructor(t){super(),rt(this,t,eo,to,i,{category:0,menu:1})}}function ro(t,e,n){const r=t.slice();return r[1]=e[n],r}function oo(t){let e,n;return e=new no({props:{category:t[1],menu:t[0]}}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.category=t[1]),1&n&&(r.menu=t[0]),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function io(t){let e,n,r,o,i,s,a,l,u,f,d,y,v,C,_,N,A,I,T,B,P,k,M,S,L=t[0].whatsapp+"",R=t[0].categories[0].subcategories,U=[];for(let e=0;e<R.length;e+=1)U[e]=oo(ro(t,R,e));const z=t=>Z(U[t],1,1,(()=>{U[t]=null}));return{c(){e=h("div"),n=h("div"),r=h("main"),o=h("img"),s=b();for(let t=0;t<U.length;t+=1)U[t].c();a=b(),l=h("footer"),u=h("p"),f=w(L),d=b(),y=h("br"),v=w("\n          Faça seu pedido, "),C=h("br"),_=w("\n          atendemos todos os dias!"),N=b(),A=h("br"),I=b(),T=h("br"),B=b(),P=h("br"),k=b(),M=h("br"),E(o,"class","banner svelte-c7c9rl"),c(o.src,i=`/img/${t[0].id}/banner.png`)||E(o,"src",i),E(o,"alt","banner"),E(u,"class","tac"),E(l,"class","svelte-c7c9rl"),E(r,"class","svelte-c7c9rl"),E(n,"class","background svelte-c7c9rl"),E(e,"class","root svelte-c7c9rl")},m(t,i){m(t,e,i),g(e,n),g(n,r),g(r,o),g(r,s);for(let t=0;t<U.length;t+=1)U[t]&&U[t].m(r,null);g(r,a),g(r,l),g(l,u),g(u,f),g(u,d),g(u,y),g(u,v),g(u,C),g(u,_),g(r,N),g(r,A),g(r,I),g(r,T),g(r,B),g(r,P),g(r,k),g(r,M),S=!0},p(t,[e]){if((!S||1&e&&!c(o.src,i=`/img/${t[0].id}/banner.png`))&&E(o,"src",i),1&e){let n;for(R=t[0].categories[0].subcategories,n=0;n<R.length;n+=1){const o=ro(t,R,n);U[n]?(U[n].p(o,e),W(U[n],1)):(U[n]=oo(o),U[n].c(),W(U[n],1),U[n].m(r,a))}for(V(),n=R.length;n<U.length;n+=1)z(n);Q()}(!S||1&e)&&L!==(L=t[0].whatsapp+"")&&x(f,L)},i(t){if(!S){for(let t=0;t<R.length;t+=1)W(U[t]);S=!0}},o(t){U=U.filter(Boolean);for(let t=0;t<U.length;t+=1)Z(U[t]);S=!1},d(t){t&&p(e),$(U,t)}}}function so(t,e,n){let{menu:r}=e;return t.$$set=t=>{"menu"in t&&n(0,r=t.menu)},[r]}let ao=class extends ot{constructor(t){super(),rt(this,t,so,io,i,{menu:0})}};function co(e){let n;return{c(){n=h("p"),n.textContent="Cardápio não encontrado",E(n,"class","svelte-vtpfje")},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&p(n)}}}function lo(t){let e,n,r;var o=t[0];function i(t){return{props:{menu:t[1]}}}return o&&(e=T(o,i(t))),{c(){e&&G(e.$$.fragment),n=y()},m(t,o){e&&tt(e,t,o),m(t,n,o),r=!0},p(t,r){const s={};if(2&r&&(s.menu=t[1]),1&r&&o!==(o=t[0])){if(e){V();const t=e;Z(t.$$.fragment,1,0,(()=>{et(t,1)})),Q()}o?(e=T(o,i(t)),G(e.$$.fragment),W(e.$$.fragment,1),tt(e,n.parentNode,n)):e=null}else o&&e.$set(s)},i(t){r||(e&&W(e.$$.fragment,t),r=!0)},o(t){e&&Z(e.$$.fragment,t),r=!1},d(t){t&&p(n),e&&et(e,t)}}}function uo(e){let n;return{c(){n=h("p"),n.textContent="Carregando cardápio...",E(n,"class","svelte-vtpfje")},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&p(n)}}}function fo(t){let e,n,r,o;const i=[uo,lo,co],s=[];function a(t,e){return t[0]||t[2]?t[0]?1:2:0}return e=a(t),n=s[e]=i[e](t),{c(){n.c(),r=y()},m(t,n){s[e].m(t,n),m(t,r,n),o=!0},p(t,[o]){let c=e;e=a(t),e===c?s[e].p(t,o):(V(),Z(s[c],1,1,(()=>{s[c]=null})),Q(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),W(n,1),n.m(r.parentNode,r))},i(t){o||(W(n),o=!0)},o(t){Z(n),o=!1},d(t){s[e].d(t),t&&p(r)}}}function go(t,e,n){let r,o,i,s,a={"adeildo-lanches":"clyp7z8db0000cxl6arjgaa23"},c={clyp7z8db0000cxl6arjgaa23:ao};return k((async t=>{const e=window.location.pathname.split("/").pop();o=a[e]||e;const{res:l,data:u}=await wt(`menu/${o}`);return l.ok?(n(1,i=u.menu),n(0,r=c[o]),r?void(document.title=i.name):n(2,s=1)):n(2,s=1)})),[r,i,s]}class mo extends ot{constructor(t){super(),rt(this,t,go,fo,i,{})}}function po(t){let e,n,r,o,i,s;e=new Ur({});const a=[vo,yo,bo,wo,ho],c=[];function l(t,e){return t[1]?0:t[3]&&"menu"==t[0]?1:t[3]&&"items"==t[0]?2:"login"==t[0]?3:"admin"==t[0]?4:-1}return~(o=l(t))&&(i=c[o]=a[o](t)),{c(){G(e.$$.fragment),n=b(),r=h("main"),i&&i.c(),E(r,"class","svelte-t87hng")},m(t,i){tt(e,t,i),m(t,n,i),m(t,r,i),~o&&c[o].m(r,null),s=!0},p(t,e){let n=o;o=l(t),o!==n&&(i&&(V(),Z(c[n],1,1,(()=>{c[n]=null})),Q()),~o?(i=c[o],i||(i=c[o]=a[o](t),i.c()),W(i,1),i.m(r,null)):i=null)},i(t){s||(W(e.$$.fragment,t),W(i),s=!0)},o(t){Z(e.$$.fragment,t),Z(i),s=!1},d(t){et(e,t),t&&p(n),t&&p(r),~o&&c[o].d()}}}function $o(e){let n,r;return n=new mo({}),{c(){G(n.$$.fragment)},m(t,e){tt(n,t,e),r=!0},p:t,i(t){r||(W(n.$$.fragment,t),r=!0)},o(t){Z(n.$$.fragment,t),r=!1},d(t){et(n,t)}}}function ho(t){let e,n;return e=new xt({}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function wo(t){let e,n;return e=new Dr({}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function bo(t){let e,n;return e=new ce({}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function yo(t){let e,n;return e=new Tr({}),{c(){G(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function vo(e){let n;return{c(){n=w("Carregando...")},m(t,e){m(t,n,e)},i:t,o:t,d(t){t&&p(n)}}}function Eo(t){let e,n,r,o;const i=[$o,po],s=[];function a(t,e){return t[2]?0:1}return e=a(t),n=s[e]=i[e](t),{c(){n.c(),r=y()},m(t,n){s[e].m(t,n),m(t,r,n),o=!0},p(t,[o]){let c=e;e=a(t),e===c?s[e].p(t,o):(V(),Z(s[c],1,1,(()=>{s[c]=null})),Q(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),W(n,1),n.m(r.parentNode,r))},i(t){o||(W(n),o=!0)},o(t){Z(n),o=!1},d(t){s[e].d(t),t&&p(r)}}}function xo(t,e,n){let r,o,i,s,a;return f(t,$t,(t=>n(0,r=t))),f(t,pt,(t=>n(4,o=t))),f(t,ht,(t=>n(3,i=t))),k((async t=>{if(window.location.pathname.startsWith("/s/cardapio"))return n(2,a=!0);n(1,s=!0);const e=localStorage.getItem("session_id");if(!e)return n(1,s=!1);const{res:r,data:o}=await wt(`menu-from-session/${e}`);n(1,s=!1),r.ok&&(pt.set(e),ht.set(o.menu))})),t.$$.update=()=>{17&t.$$.dirty&&(o||"admin"==r?"login"!=r&&r||$t.set("items"):$t.set("login"))},[r,s,a,i,o]}var Co=new class extends ot{constructor(t){super(),rt(this,t,xo,Eo,i,{})}}({target:document.body});export{Co as default};
//# sourceMappingURL=main.js.map
